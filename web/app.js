!function(t){function e(e){for(var r,i,o=e[0],c=e[1],l=e[2],p=0,f=[];p<o.length;p++)i=o[p],n[i]&&f.push(n[i][0]),n[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);for(u&&u(e);f.length;)f.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],r=!0,o=1;o<a.length;o++){var c=a[o];0!==n[c]&&(r=!1)}r&&(s.splice(e--,1),t=i(i.s=a[0]))}return t}var r={},n={0:0},s=[];function i(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=r,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(a,r,function(e){return t[e]}.bind(null,r));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var o=window.webpackJsonp=window.webpackJsonp||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;s.push([73,1]),a()}({100:function(t,e,a){"use strict";a.r(e);var r=a(7),n=a(66),s=a(72),i=(a(84),a(85),a(86),a(87),a(3)),o=a.n(i),c=a(6),l=a.n(c),u=a(22),p=a.n(u),f=a(14),d=Object(f.a)({},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("f7-page",[a("f7-navbar",{attrs:{title:"Not found","back-link":"Back"}}),t._v(" "),a("f7-block",{attrs:{strong:""}},[a("p",[t._v("Sorry")]),t._v(" "),a("p",[t._v("Requested content not found.")])])],1)},[],!1,null,null,null).exports,m=a(33),h="/api/activity/j-create",v="/api/activity/j-activities",g="/api/activity/j-detail",b="/api/banner/j-get",w="/api/comment/j-create",k="/api/market/j-create",x="/api/market/j-all",_="/api/market/j-detail",C="/api/comment/j-tweet",y="/api/topic/j-all",I="/api/topic/j-list",T="/api/pet/j-create",P="/api/pet/j-detail",E="/api/tweet/j-create",A="/api/tweet/j-all-tweets",j="/api/tweet/j-like",O="/api/user/person/j-login",$="/api/user/person/j-sign-up",M="/api/user/person/j-all-pets",S="/api/user/person/j-all-tweets",F="/api/user/person/j-info",R="/api/user/person/j-activities",B=m.a.request.promise.postJSON;function L(){return function(){return l()(o.a.mark(function t(e){var a,r,n,s;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.tweetId,r=e.page,n=void 0===r?1:r,t.next=3,B(C,{tweetId:a,offset:n});case 3:return s=t.sent,t.abrupt("return",s);case 5:case"end":return t.stop()}},t)})).apply(this,arguments)}.apply(this,arguments)}function z(){return function(){return l()(o.a.mark(function t(e){var a,r,n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.text,r=e.tweetId,t.next=3,B(w,{text:a,tweetId:r});case 3:return n=t.sent,t.abrupt("return",n);case 5:case"end":return t.stop()}},t)})).apply(this,arguments)}.apply(this,arguments)}function D(){return function(){return l()(o.a.mark(function t(e){var a,r,n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.type,r=e.tweetId,t.next=3,B(j,{type:a,tweetId:r});case 3:return n=t.sent,t.abrupt("return",n);case 5:case"end":return t.stop()}},t)})).apply(this,arguments)}.apply(this,arguments)}function U(){return function(){return l()(o.a.mark(function t(e){var a,r,n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.text,r=e.picture,t.next=3,B(E,{text:a,picture:r});case 3:return n=t.sent,t.abrupt("return",n);case 5:case"end":return t.stop()}},t)})).apply(this,arguments)}.apply(this,arguments)}function N(){return function(){return l()(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B(M);case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}},t)})).apply(this,arguments)}.apply(this,arguments)}function G(){return function(){return l()(o.a.mark(function t(e){var a,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.petId,t.next=3,B(P,{petId:a});case 3:return r=t.sent,t.abrupt("return",r);case 5:case"end":return t.stop()}},t)})).apply(this,arguments)}.apply(this,arguments)}function q(){return function(){return l()(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B(F);case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}},t)})).apply(this,arguments)}.apply(this,arguments)}function V(){return function(){return l()(o.a.mark(function t(e){var a,r,n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.page,r=void 0===a?1:a,t.next=3,B(S,{offset:r});case 3:return n=t.sent,t.abrupt("return",n);case 5:case"end":return t.stop()}},t)})).apply(this,arguments)}.apply(this,arguments)}function J(){return function(){return l()(o.a.mark(function t(e){var a,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.marketId,t.next=3,B(_,{marketId:a});case 3:return r=t.sent,t.abrupt("return",r);case 5:case"end":return t.stop()}},t)})).apply(this,arguments)}.apply(this,arguments)}function Y(){return function(){return l()(o.a.mark(function t(e){var a,r,n,s,i,c,l,u,p;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.name,r=e.contact,n=e.phoneNumber,s=e.place,i=e.serveType,c=e.workTime,l=e.intro,u=e.picture,t.next=3,B(k,{name:a,contact:r,phoneNumber:n,place:s,serveType:i,workTime:c,intro:l,picture:u});case 3:return p=t.sent,t.abrupt("return",p);case 5:case"end":return t.stop()}},t)})).apply(this,arguments)}.apply(this,arguments)}function H(){return function(){return l()(o.a.mark(function t(e){var a,r,n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.offset,r=void 0===a?1:a,t.next=3,B(x,{offset:r});case 3:return n=t.sent,t.abrupt("return",n);case 5:case"end":return t.stop()}},t)})).apply(this,arguments)}.apply(this,arguments)}function K(){return function(){return l()(o.a.mark(function t(e){var a,r,n,s;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.topicId,r=e.page,n=void 0===r?1:r,t.next=3,B(I,{topicId:a,offset:n});case 3:return s=t.sent,t.abrupt("return",s);case 5:case"end":return t.stop()}},t)})).apply(this,arguments)}.apply(this,arguments)}function Q(){return function(){return l()(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B(y);case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}},t)})).apply(this,arguments)}.apply(this,arguments)}function W(){return function(){return l()(o.a.mark(function t(e){var a,r,n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.username,r=e.password,t.next=3,B(O,{username:a,password:r});case 3:return n=t.sent,t.abrupt("return",n);case 5:case"end":return t.stop()}},t)})).apply(this,arguments)}.apply(this,arguments)}function X(){return function(){return l()(o.a.mark(function t(e){var a,r,n,s,i,c,l,u,p,f,d;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.name,r=e.email,n=e.nickname,s=e.username,i=e.password,c=e.gender,l=e.age,u=e.homeAddress,p=e.workAddress,f=e.picture,t.next=3,B($,{name:a,email:r,nickname:n,username:s,password:i,gender:c,age:l,homeAddress:u,workAddress:p,picture:f});case 3:return d=t.sent,t.abrupt("return",d);case 5:case"end":return t.stop()}},t)})).apply(this,arguments)}.apply(this,arguments)}function Z(){return function(){return l()(o.a.mark(function t(e){var a,r,n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.page,r=void 0===a?1:a,t.next=3,B(R,{offset:r});case 3:return n=t.sent,t.abrupt("return",n);case 5:case"end":return t.stop()}},t)})).apply(this,arguments)}.apply(this,arguments)}function tt(){return function(){return l()(o.a.mark(function t(e){var a,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.activityId,t.next=3,B(g,{activityId:a});case 3:return r=t.sent,t.abrupt("return",r);case 5:case"end":return t.stop()}},t)})).apply(this,arguments)}.apply(this,arguments)}function et(){return function(){return l()(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B(b);case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}},t)})).apply(this,arguments)}.apply(this,arguments)}function at(){return function(){return l()(o.a.mark(function t(e){var a,r,n,s,i,c,l,u;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.nickname,r=e.gender,n=e.age,s=e.vaccineStatus,i=e.petType,c=e.type,l=e.picture,t.next=3,B(T,{nickname:a,gender:r,age:n,vaccineStatus:s,petType:i,type:c,picture:l});case 3:return u=t.sent,t.abrupt("return",u);case 5:case"end":return t.stop()}},t)})).apply(this,arguments)}.apply(this,arguments)}function rt(){return function(){return l()(o.a.mark(function t(e){var a,r,n,s,i,c,l,u,p,f,d,m,v;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.name,r=e.beginTime,n=e.endTime,s=e.totalCount,i=e.totalCost,c=e.joinBeginTime,l=e.joinEndTime,u=e.organizer,p=e.coorganizer,f=e.type,d=e.place,m=e.picture,t.next=3,B(h,{name:a,beginTime:r,endTime:n,totalCount:s,totalCost:i,joinBeginTime:c,joinEndTime:l,organizer:u,coorganizer:p,type:f,place:d,picture:m});case 3:return v=t.sent,t.abrupt("return",v);case 5:case"end":return t.stop()}},t)})).apply(this,arguments)}.apply(this,arguments)}function nt(){return function(){return l()(o.a.mark(function t(e){var a,r,n=arguments;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=1<n.length&&void 0!==n[1]?n[1]:1,t.next=3,B(v,{type:e,offset:a});case 3:return r=t.sent,t.abrupt("return",r);case 5:case"end":return t.stop()}},t)})).apply(this,arguments)}.apply(this,arguments)}var st=/^(?:image\/bmp|image\/cis\-cod|image\/gif|image\/ief|image\/jpeg|image\/jpeg|image\/jpeg|image\/pipeg|image\/png|image\/svg\+xml|image\/tiff|image\/x\-cmu\-raster|image\/x\-cmx|image\/x\-icon|image\/x\-portable\-anymap|image\/x\-portable\-bitmap|image\/x\-portable\-graymap|image\/x\-portable\-pixmap|image\/x\-rgb|image\/x\-xbitmap|image\/x\-xpixmap|image\/x\-xwindowdump)$/i;function it(){var t=new Date,e=t.getUTCFullYear(),a=t.getUTCMonth()+1,r=t.getUTCDay(),n=t.getUTCHours()+8,s=t.getUTCMinutes(),i=t.getUTCSeconds();return new Date(Date.UTC(e,a,r,n,s,i))}var ot,ct,lt,ut,pt,ft,dt,mt,ht,vt,gt,bt,wt,kt,xt,_t,Ct,yt,It,Tt,Pt,Et,At,jt,Ot,$t,Mt,St,Ft,Rt,Bt,Lt,zt,Dt,Ut,Nt,Gt,qt,Vt,Jt,Yt,Ht,Kt,Qt,Wt,Xt,Zt=["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],te=function(){for(var t=[],e=0;e<23;e++)t[e]=e+1;return t}(),ee=function(){for(var t=[],e=0;e<60;e++)t[e]=e<10?"0".concat(e):e;return t}(),ae=a(20),re={props:{data:{type:Object,default:function(){return{}}},enableToolBar:{type:Boolean,default:!0}},computed:{likeStyle:function(){return this.data.liked?"iconfont icon-like1":"iconfont icon-like"}},methods:p()({},Object(ae.d)(["home/updateTweetById"]),{cardClick:function(t){this.$emit("card:content-click",t)},likeClick:(ot=l()(o.a.mark(function t(e){var a,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=1,"iconfont icon-like"!==this.likeStyle&&(a=2),t.prev=2,t.next=5,D({tweetId:e,type:a});case 5:0===(r=t.sent).iRet?"iconfont icon-like"===this.likeStyle?this["home/updateTweetById"]({tweetId:e,liked:!1}):this["home/updateTweetById"]({tweetId:e,liked:!0}):console.error(r),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),console.error(t.t0);case 12:case"end":return t.stop()}},t,this,[[2,9]])})),function(){return ot.apply(this,arguments)})})},ne=(a(89),Object(f.a)(re,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"me-post-card-container",on:{click:function(){return t.cardClick(t.data)}}},[a("f7-card",{staticClass:"me-post-card"},[a("f7-card-header",[a("div",{staticClass:"me-avatar"},[a("img",{staticClass:"lazy lazy-fade-in",attrs:{src:t.data.avatar}})]),t._v(" "),a("div",{staticClass:"me-user"},[a("div",{staticClass:"me-name"},[t._v(t._s(t.data.nickname))]),t._v(" "),a("div",{staticClass:"me-create-time"},[t._v(t._s(t.data.createTime))])])]),t._v(" "),a("f7-card-content",{staticClass:"me-card-content"},[a("div",{staticClass:"text me-text"},[t._v(t._s(t.data.text))]),t._v(" "),t.data.image?a("div",{staticClass:"me-image"},[a("img",{staticClass:"lazy",attrs:{src:t.data.image}})]):t._e()]),t._v(" "),t.enableToolBar?a("f7-card-footer",{staticClass:"me-flex-row"},[a("f7-link",[a("i",{staticClass:"iconfont icon-comment"}),t._v(" "),a("span",{staticClass:"text me-comment"},[t._v(t._s(t.data.commentCount))])]),t._v(" "),a("f7-link",{on:{click:function(e){return e.stopPropagation(),t.likeClick(t.data.tweetId)}}},[a("i",{class:t.likeStyle}),t._v(" "),a("span",{staticClass:"text me-like"},[t._v(t._s(t.data.likeCount))])])],1):t._e()],1)],1)},[],!1,null,null,null).exports),se={components:{Card:ne},props:{loadCardData:{type:Array,required:!0}},data:function(){return{refreshing:!1,loadingMore:!1,loadedEnd:!1}},methods:{routeToCardDetail:function(t){t&&this.$f7router.navigate("/tweet/".concat(t.tweetId),{props:{tweet:t}})}}},ie=Object(f.a)(se,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"me-card-list"},t._l(t.loadCardData,function(e){return a("card",{key:e.tweetId,attrs:{data:e},on:{"card:content-click":function(){return t.routeToCardDetail(e)}}})}),1)},[],!1,null,null,null).exports,oe={props:{bannerImages:{type:Array,default:function(){return[]}}},mounted:function(){},data:function(){return{loop:!0,params:{speed:400,spaceBetween:10,observer:!0,observeParents:!0,autoplay:{delay:1500,disableOnInteraction:!1}}}}},ce=(a(90),Object(f.a)(oe,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("f7-swiper",{staticClass:"me-swiper",attrs:{params:t.params,init:"",pagination:""}},t._l(t.bannerImages,function(t,e){return a("f7-swiper-slide",{key:e},[a("img",{staticClass:"lazy",attrs:{src:t.imgUrl}})])}),1)},[],!1,null,"75757b5a",null).exports),le={props:{topics:{type:Array,default:function(){return[]}}},methods:{getTopicLink:function(t){return"/topic/".concat(t.topicId,"/")}}},ue=Object(f.a)(le,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("f7-block-title",[t._v("近期话题")]),t._v(" "),t.topics.length?a("f7-list",t._l(t.topics,function(e){return a("f7-list-item",{key:e.id,attrs:{title:e.text,link:t.getTopicLink(e)}})}),1):a("f7-block",{attrs:{inset:""}},[t._v("暂无话题")])],1)},[],!1,null,null,null).exports,pe=(a(0),Object(ae.a)("home")),fe=pe.mapActions,de=pe.mapState,me=pe.mapGetters,he={components:{CardList:ie,BannerSwiper:ce,TopicList:ue},computed:p()({},de(["tweets"]),me(["isTweetLoadAll"]),Object(ae.e)(["user"])),data:function(){return{bannerImages:[],showPreloader:!0,allowInfinite:!0,isInfinite:!0,topics:[],isPageFirstIn:!1,isTabFirstShow:!1}},methods:p()({onTabShow:function(){},onPageBeforeIn:(ft=l()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.isPageFirstIn)return t.abrupt("return");t.next=2;break;case 2:return this.$f7.preloader.show(),t.next=5,this.getUserStatus();case 5:if(!0===this.user.isLogin)return t.next=8,this.getBannerImages();t.next=14;break;case 8:return t.next=10,this.getIndexTweets();case 10:this.tweets.length<6&&(this.showPreloader=!1),this.$f7.preloader.hide(),t.next=16;break;case 14:this.$f7.preloader.hide(),this.$f7router.back("/user/login");case 16:this.isPageFirstIn=!0;case 17:case"end":return t.stop()}},t,this)})),function(){return ft.apply(this,arguments)})},fe(["getIndexTweets","loadMoreTweets"]),Object(ae.d)(["updatePopup"]),Object(ae.c)(["getUserStatus"]),{onRefresh:(pt=l()(o.a.mark(function t(e,a){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getIndexTweets();case 2:a();case 3:case"end":return t.stop()}},t,this)})),function(){return pt.apply(this,arguments)}),openPublisherPopup:function(){this.updatePopup({key:"publisherOpened",value:!0})},loadMore:(ut=l()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.allowInfinite||this.isTweetLoadAll)return t.abrupt("return");t.next=2;break;case 2:return this.allowInfinite=!1,t.prev=3,t.next=6,this.loadMoreTweets();case 6:this.isTweetLoadAll&&(this.isInfinite=!1,this.showPreloader=!1),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(3),console.error(t.t0);case 12:return t.prev=12,this.allowInfinite=!0,t.finish(12);case 15:case"end":return t.stop()}},t,this,[[3,9,12,15]])})),function(){return ut.apply(this,arguments)}),getBannerImages:(lt=l()(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,et();case 3:0===(e=t.sent).iRet?this.bannerImages=e.data:console.error(error),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])})),function(){return lt.apply(this,arguments)}),getAllTopics:(ct=l()(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(t.prev=0)!==this.user.isLogin)return t.abrupt("return");t.next=3;break;case 3:return t.next=5,Q();case 5:0===(e=t.sent).iRet?this.topics=e.data:console.error(e),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.error(t.t0);case 12:case"end":return t.stop()}},t,this,[[0,9]])})),function(){return ct.apply(this,arguments)})})},ve=Object(f.a)(he,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("f7-page",{attrs:{id:"homeView","page-content":!1,tabs:"","with-subnavbar":"","no-swipeback":""},on:{"page:beforein":t.onPageBeforeIn}},[a("f7-navbar",{attrs:{title:"首页"}},[a("f7-nav-right",[a("f7-link",{staticClass:"icon iconfont icon-edit1",on:{click:t.openPublisherPopup}})],1),t._v(" "),a("f7-subnavbar",{staticClass:"me-home-subnavbar"},[a("f7-segmented",{attrs:{raised:""}},[a("f7-button",{attrs:{"tab-link":"#tab-tweets","tab-link-active":""}},[t._v("精选")]),t._v(" "),a("f7-button",{attrs:{"tab-link":"#tab-topics"}},[t._v("话题")])],1)],1)],1),t._v(" "),a("f7-page-content",{staticClass:"page-content",attrs:{id:"tab-tweets","tab-active":"",tab:"",ptr:"","infinite-preloader":t.showPreloader},on:{"ptr:refresh":t.onRefresh,infinite:t.loadMore,"tab:show":t.onTabShow}},[a("banner-swiper",{attrs:{bannerImages:t.bannerImages}}),t._v(" "),t.tweets.length?a("card-list",{attrs:{loadCardData:t.tweets}}):a("f7-block",{attrs:{inset:""}},[t._v("暂无动态~")])],1),t._v(" "),a("f7-page-content",{staticClass:"page-content",attrs:{id:"tab-topics",tab:""}},[a("banner-swiper",{attrs:{bannerImages:t.bannerImages}}),t._v(" "),a("topic-list",{attrs:{topics:t.topics}})],1)],1)},[],!1,null,null,null).exports,ge={components:{CardList:ie},props:{topicId:{default:null}},data:function(){return{backText:"返回",topicText:"话题页",showPreloader:!0,allowInfinite:!0,isLoadAll:!1,tweets:[],page:1}},methods:{onRefresh:(mt=l()(o.a.mark(function t(e){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getIndexTweets();case 2:e();case 3:case"end":return t.stop()}},t,this)})),function(){return mt.apply(this,arguments)}),getIndexTweets:(dt=l()(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,K({topicId:this.topicId});case 3:0===(e=t.sent).iRet?this.tweets=e.data:console.error(e),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])})),function(){return dt.apply(this,arguments)}),trimTopicText:function(t){return 10<(t=t||"").length&&(t=t.substr(0,10)+"..."),t}}},be=Object(f.a)(ge,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("f7-page",{attrs:{id:"topicDetailView","no-toolbar":"",ptr:"","infinite-preloader":t.showPreloader},on:{"ptr:refresh":t.onRefresh,infinite:t.loadMoreTweets}},[a("f7-navbar",{attrs:{title:t.trimTopicText(t.topicText),"back-link":t.backText}}),t._v(" "),a("div",{staticClass:"me-topic-list"},[t.tweets.length?a("card-list",{attrs:{loadCardData:t.tweets}}):a("f7-block",{attrs:{inset:""}},[t._v("暂无相关动态")])],1)],1)},[],!1,null,null,null).exports,we={components:{Card:ne},props:{tweet:{type:Object,required:!0}},data:function(){return{backText:"返回",comments:[],isPageFirstIn:!1}},computed:{likeStyle:function(){return this.tweet.liked?"iconfont icon-like1":"iconfont icon-like"}},methods:p()({onPageRefresh:(gt=l()(o.a.mark(function t(e,a){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getAllComment();case 2:a();case 3:case"end":return t.stop()}},t,this)})),function(){return gt.apply(this,arguments)}),onPageBeforeIn:function(){this.isPageFirstIn||(this.updateCommentTweetId({tweetId:this.tweet.tweetId}),this.getAllComment())}},Object(ae.d)(["updatePopup","home/updateTweetById","updateCommentTweetId"]),{getAllComment:(vt=l()(o.a.mark(function t(){var e,a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.tweet.tweetId){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,t.next=6,L({tweetId:e});case 6:0===(a=t.sent).iRet?this.comments=a.data:console.error(a),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),console.error(t.t0);case 13:case"end":return t.stop()}},t,this,[[3,10]])})),function(){return vt.apply(this,arguments)}),triggerLike:(ht=l()(o.a.mark(function t(e,a){var r,n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=1,"iconfont icon-like"!==this.likeStyle&&(r=2),t.next=5,D({tweetId:e,type:r});case 5:0===(n=t.sent).iRet?"iconfont icon-like"===this.likeStyle?(this.likeStyle="iconfont icon-like1",this["home/updateTweetById"]({tweetId:e,liked:!1})):(this["home/updateTweetById"]({tweetId:e,liked:!0}),this.likeStyle="iconfont icon-like"):console.error(n),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.error(t.t0);case 12:case"end":return t.stop()}},t,this,[[0,9]])})),function(){return ht.apply(this,arguments)}),openCommentPopup:function(){this.updatePopup({key:"commentOpened",value:!0})}})},ke=(a(91),Object(f.a)(we,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("f7-page",{staticClass:"me-tweet-detail",attrs:{"no-toolbar":"","page-content":!1},on:{"page:beforein":t.onPageBeforeIn}},[a("f7-navbar",{attrs:{"back-link":t.backText,sliding:""}}),t._v(" "),a("f7-page-content",{attrs:{ptr:""},on:{"ptr:refresh":t.onPageRefresh}},[a("card",{attrs:{enableToolBar:!1,data:t.tweet}}),t._v(" "),a("div",{staticClass:"me-comments"},[a("div",{staticClass:"me-title"},[a("span",[t._v("评论")])]),t._v(" "),t.comments.length?a("div",{staticClass:"me-comments-list"},t._l(t.comments,function(e){return a("div",{key:e.commentId,staticClass:"me-comment"},[a("img",{staticClass:"me-avatar lazy lazy-fade-in",attrs:{src:e.avatar,alt:""}}),t._v(" "),a("div",{staticClass:"me-detail"},[a("div",{staticClass:"me-nickname"},[t._v(t._s(e.nickname))]),t._v(" "),a("div",{staticClass:"me-time"},[t._v(t._s(e.createTime))]),t._v(" "),a("div",{staticClass:"me-text"},[t._v(t._s(e.text))])])])}),0):a("div",{staticClass:"me-no-comment"},[a("i",{staticClass:"iconfont icon-wujieguoyangshi"}),t._v(" "),a("div",{staticClass:"me-text me-no-content"},[a("span",[t._v("暂无内容")])])])])],1),t._v(" "),a("f7-toolbar",{staticClass:"me-flex-row",attrs:{position:"bottom"}},[a("f7-link",{staticClass:"me-tool me-tool-border",on:{click:t.openCommentPopup}},[a("span",{staticClass:"iconfont icon-comment"}),t._v(" "),a("span",{staticClass:"text",domProps:{textContent:t._s(t.tweet.commentCount?t.tweet.commentCount:"评论")}})]),t._v(" "),a("f7-link",{staticClass:"me-tool me-tool-border",on:{click:function(){return t.triggerLike(t.tweet.tweetId,t.tweet.liked)}}},[a("span",{class:t.likeStyle}),t._v(" "),a("span",{staticClass:"text",domProps:{textContent:t._s(t.tweet.likeCount?t.tweet.likeCount:"喜欢")}})])],1)],1)},[],!1,null,"fad6e7ea",null).exports),xe=a(9),_e=a.n(xe),Ce={props:{competeActivities:{type:Array}},methods:{getDetailLink:function(t){return"/activities/detail/".concat(t.activityId)},formatSubtitle:function(t){return"总人数: ".concat(t.totalCount," 人")},formatPlace:function(t){return"活动地点: ".concat(t.place)}}},ye={components:{BannerSwiper:ce,CompeteActivity:Object(f.a)(Ce,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("f7-list",{staticClass:"me-media-list me-compete-activity",attrs:{"media-list":""}},t._l(t.competeActivities,function(e){return a("f7-list-item",{key:e.activityId,attrs:{"media-item":"",subtitle:t.formatSubtitle(e),title:e.name,text:t.formatPlace(e),link:t.getDetailLink(e)}},[a("img",{staticClass:"lazy lazy-fade-in",attrs:{slot:"media",src:e.image,width:"80",height:"80"},slot:"media"})])}),1)},[],!1,null,null,null).exports},computed:p()({},Object(ae.e)(["user"])),data:function(){return{competePage:1,partyPage:1,travelPage:1,competeAllowInfinite:!0,partyAllowInfinite:!0,travelAllowInfinite:!0,showCompetePre:!0,showPartyPre:!0,showTravelPre:!0,bannerImages:[],competeActivities:[],partyActivities:[],travelActivities:[],isTabFirstShow:!1,isPageFirstIn:!1}},methods:{onPageBeforeIn:function(){this.isPageFirstIn||(this.getBannerImages(),this.initActivities(),this.isPageFirstIn=!0)},initActivities:(It=l()(o.a.mark(function t(){var e,a,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,nt(1);case 3:return e=t.sent,console.log("1111",e),0===e.iRet?(e.data.length<6&&(this.showCompetePre=!1),this.competeActivities=e.data):(console.error(e),this.showCompetePre=!1),t.next=8,nt(2);case 8:return 0===(a=t.sent).iRet?(a.data.length<6&&(this.showPartyPre=!1),this.partyActivities=a.data):(console.error(a),this.showPartyPre=!1),t.next=12,nt(3);case 12:0===(r=t.sent).iRet?(r.data.length<6&&(this.showTravelPre=!1),this.travelActivities=r.data):(console.error(r),this.showTravelPre=!1),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),console.log(t.t0);case 19:case"end":return t.stop()}},t,this,[[0,16]])})),function(){return It.apply(this,arguments)}),onCompetePageRefresh:(yt=l()(o.a.mark(function t(e,a){var r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,nt(1);case 3:0===(r=t.sent).iRet?this.competeActivities=r.data:console.error(r),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:return t.prev=10,a(),t.finish(10);case 13:case"end":return t.stop()}},t,this,[[0,7,10,13]])})),function(){return yt.apply(this,arguments)}),onPartyPageRefresh:(Ct=l()(o.a.mark(function t(e,a){var r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,nt(2);case 3:0===(r=t.sent).iRet?this.partyActivities=r.data:console.error(r),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:return t.prev=10,a(),t.finish(10);case 13:case"end":return t.stop()}},t,this,[[0,7,10,13]])})),function(){return Ct.apply(this,arguments)}),onTravelPageRefresh:(_t=l()(o.a.mark(function t(e,a){var r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,nt(t.next=3);case 3:0===(r=t.sent).iRet?this.travelActivities=r.data:console.error(r),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:return t.prev=10,a(),t.finish(10);case 13:case"end":return t.stop()}},t,this,[[0,7,10,13]])})),function(){return _t.apply(this,arguments)}),onCompetePageLoadMore:(xt=l()(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,this.competeAllowInfinite){t.next=3;break}return t.abrupt("return");case 3:return this.competeAllowInfinite=!1,t.next=6,nt(1,this.competePage+1);case 6:if(0!==(e=t.sent).iRet){t.next=15;break}if(0===e.data.length)return this.showCompetePre=!1,t.abrupt("return");t.next=11;break;case 11:this.competePage+=1,this.competeActivities=[].concat(_e()(this.competeActivities),_e()(e.data)),t.next=16;break;case 15:console.error(e);case 16:t.next=21;break;case 18:t.prev=18,t.t0=t.catch(0),console.error(t.t0);case 21:return t.prev=21,this.competeAllowInfinite=!0,t.finish(21);case 24:case"end":return t.stop()}},t,this,[[0,18,21,24]])})),function(){return xt.apply(this,arguments)}),onPartyPageLoadMore:(kt=l()(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,this.partyAllowInfinite){t.next=3;break}return t.abrupt("return");case 3:return this.partyAllowInfinite=!1,t.next=6,nt(2,this.partyPage+1);case 6:if(0!==(e=t.sent).iRet){t.next=15;break}if(0===e.data.length)return this.showPartyPre=!1,t.abrupt("return");t.next=11;break;case 11:this.partyPage+=1,this.partyActivities=[].concat(_e()(this.partyActivities),_e()(e.data)),t.next=16;break;case 15:console.error(e);case 16:t.next=21;break;case 18:t.prev=18,t.t0=t.catch(0),console.error(t.t0);case 21:return t.prev=21,this.partyAllowInfinite=!0,t.finish(21);case 24:case"end":return t.stop()}},t,this,[[0,18,21,24]])})),function(){return kt.apply(this,arguments)}),onTravelPageLoadMore:(wt=l()(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,this.travelAllowInfinite){t.next=3;break}return t.abrupt("return");case 3:return this.travelAllowInfinite=!1,t.next=6,nt(3,this.travelPage+1);case 6:if(0!==(e=t.sent).iRet){t.next=15;break}if(0===e.data.length)return this.showTravelPre=!1,t.abrupt("return");t.next=11;break;case 11:this.travelPage+=1,this.travelActivities=[].concat(_e()(this.travelActivities),_e()(e.data)),t.next=16;break;case 15:console.error(e);case 16:t.next=21;break;case 18:t.prev=18,t.t0=t.catch(0),console.error(t.t0);case 21:return t.prev=21,this.travelAllowInfinite=!0,t.finish(21);case 24:case"end":return t.stop()}},t,this,[[0,18,21,24]])})),function(){return wt.apply(this,arguments)}),getBannerImages:(bt=l()(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,et();case 3:0===(e=t.sent).iRet?this.bannerImages=e.data:console.error(e),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])})),function(){return bt.apply(this,arguments)})}},Ie=Object(f.a)(ye,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("f7-page",{attrs:{id:"activitiesView","page-content":!1,tabs:"","with-subnavbar":""},on:{"page:beforein":t.onPageBeforeIn}},[a("f7-navbar",{attrs:{title:"活动"}},[a("f7-subnavbar",{staticClass:"me-activity-subnavbar"},[a("f7-segmented",{attrs:{raised:""}},[a("f7-button",{attrs:{"tab-link":"#me-activity-1","tab-link-active":""}},[t._v("宠物赛事")]),t._v(" "),a("f7-button",{attrs:{"tab-link":"#me-activity-2"}},[t._v("宠物趴体")]),t._v(" "),a("f7-button",{attrs:{"tab-link":"#me-activity-3"}},[t._v("带宠旅行")])],1)],1)],1),t._v(" "),a("f7-page-content",{attrs:{id:"me-activity-1",tab:"","tab-active":"",ptr:"",infinite:"","infinite-preloader":t.showCompetePre},on:{"ptr:refresh":t.onCompetePageRefresh,infinite:t.onCompetePageLoadMore}},[a("banner-swiper",{attrs:{bannerImages:t.bannerImages}}),t._v(" "),t.competeActivities.length?a("compete-activity",{attrs:{competeActivities:t.competeActivities}}):a("f7-block",{attrs:{inset:""}},[a("p",[t._v("暂无宠物赛事~")])])],1),t._v(" "),a("f7-page-content",{attrs:{id:"me-activity-2",tab:"",inifite:"",ptr:"","infinite-preloader":t.showPartyPre},on:{"ptr:refresh":t.onPartyPageRefresh,infinite:t.onPartyPageLoadMore}},[t.bannerImages.length?a("banner-swiper",{attrs:{bannerImages:t.bannerImages}}):t._e(),t._v(" "),t.partyActivities.length?a("compete-activity",{attrs:{competeActivities:t.partyActivities}}):a("f7-block",{attrs:{inset:""}},[t._v("暂无宠物趴体~")])],1),t._v(" "),a("f7-page-content",{attrs:{id:"me-activity-3",tab:"",ptr:"","infinite-preloader":t.showTravelPre,infinite:""},on:{"ptr:refresh":t.onTravelPageRefresh,infinite:t.onTravelPageLoadMore}},[t.bannerImages.length?a("banner-swiper",{attrs:{bannerImages:t.bannerImages}}):t._e(),t._v(" "),t.travelActivities.length?a("compete-activity",{attrs:{competeActivities:t.travelActivities}}):a("f7-block",{attrs:{inset:""}},[t._v("暂无带宠旅行~")])],1),t._v(" "),a("f7-fab",{attrs:{slot:"fixed",position:"right-bottom",color:"orange",href:"/activities/add"},slot:"fixed"},[a("f7-icon",{attrs:{ios:"f7:add",aurora:"f7:add",md:"material:add"}})],1)],1)},[],!1,null,null,null).exports,Te={props:{placeholder:{type:String,default:""},elementId:{type:String,required:!0},time:{type:String,required:!0},type:{type:String,required:!0}},mounted:function(){var t=it();this.$f7.picker.create({inputEl:"#".concat(this.elementId),rotateEffect:!0,openIn:"sheet",formatValue:function(t){return t=[t[0]].concat(_e()(t.slice(1,4).map(function(t){return t<10?"0".concat(t):t})),_e()(t.slice(4))),console.log(t),"".concat(t[0],"-").concat(t[1],"-").concat(t[2]," ").concat(t[3],":").concat(t[4],":").concat(t[5])},cols:[{values:function(t){for(var e=(arguments.length,5),a=[],r=it().getFullYear(),n=0;n<e;n++)a.push("".concat(r+n));return a}()},{values:[1,2,3,4,5,6,7,8,9,10,11,12],displayValues:Zt,textAlign:"left"},{values:function(t,e){for(var a=new Date(t,e,0).getDate(),r=[],n=0;n<a;n++)r[n]="".concat(n+1);return r}(t.getFullYear(),t.getMonth())},{values:te},{divider:!0,content:":"},{values:ee},{divider:!0,content:":"},{values:ee}],on:{change:function(t,e){var a=new Date(e[0],e[1],0).getDate();e[2]>a&&t.cols[2].setValue(a)}}})},methods:{onChange:function(t){this.$emit("input:change",{type:this.type,value:t.target.value})}}},Pe=Object(f.a)(Te,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"item-content item-input"},[a("div",{staticClass:"item-inner"},[a("div",{staticClass:"item-title item-label"},[t._v(t._s(t.placeholder))]),t._v(" "),a("div",{staticClass:"item-input-wrap"},[a("input",{attrs:{type:"text",placeholder:t.placeholder,readonly:"readonly",id:t.elementId},on:{change:t.onChange}})])])])},[],!1,null,null,null).exports,Ee=a(27),Ae={components:{DateTime:Pe,PictureInput:Ee.a},data:function(){return{name:"",beginTime:"",endTime:"",totalCount:0,totalCost:0,joinBeginTime:"",joinEndTime:"",organizer:"",coorganizer:"",type:-1,place:"",picture:"",showNameErrorFlag:!1,showTypeErrorFlag:!1,showPlaceErrorFlag:!1,showTotalCountErrorFlag:!1,showTotalCostErrorFlag:!1,showOrganizerErrorFlag:!1,showCoorganizerErrorFlag:!1}},methods:{onChange:function(t){this.picture=t},toast:function(t){this.$f7.toast.create({text:t,closeTimeout:2e3,position:"center"}).open()},dateTimeChange:function(t){var e=t.type,a=t.value;"beginTime"===e?this.beginTime=a:"endTime"===e?this.endTime=a:"joinBeginTime"===e?this.joinBeginTime=a:"joinEndTime"===e&&(this.joinEndTime=a)},submitActivityData:(Tt=l()(o.a.mark(function t(){var e,a=this;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,setTimeout(function(){a.showNameErrorFlag=!1,a.showTypeErrorFlag=!1,a.showPlaceErrorFlag=!1,a.showTotalCountErrorFlag=!1,a.showTotalCostErrorFlag=!1,a.showOrgazierErrorFlag=!1,a.showCoorgazierErrorFlag=!1},3e3),this.name){t.next=4;break}return t.abrupt("return",this.showNameErrorFlag=!0);case 4:if(this.type){t.next=6;break}return t.abrupt("return",this.showTypeErrorFlag=!0);case 6:if(this.place){t.next=8;break}return t.abrupt("return",this.showPlaceErrorFlag=!0);case 8:if(this.totalCount){t.next=10;break}return t.abrupt("return",this.showTotalCountErrorFlag=!0);case 10:if(this.totalCost){t.next=12;break}return t.abrupt("return",this.showTotalCostErrorFlag=!0);case 12:if(this.organizer){t.next=14;break}return t.abrupt("return",this.showOrgazierErrorFlag=!0);case 14:if(this.coorganizer){t.next=16;break}return t.abrupt("return",this.showCoorgazierErrorFlag=!0);case 16:if(this.picture){t.next=18;break}return t.abrupt("return",this.toast("活动封面图片不能为空"));case 18:return this.$f7.preloader.show(),t.next=21,rt(this);case 21:if(e=t.sent,this.$f7.preloader.hide(),e){t.next=27;break}return console.log("创建活动失败",e),this.toast("创建活动失败"),t.abrupt("return");case 27:this.toast("创建活动成功"),this.resetAllProps(),setTimeout(function(){a.back()},1e3),t.next=37;break;case 32:t.prev=32,t.t0=t.catch(0),console.error(t.t0),this.$f7.preloader.hide(),this.$f7.toast.create({text:"创建活动失败"});case 37:case"end":return t.stop()}},t,this,[[0,32]])})),function(){return Tt.apply(this,arguments)}),resetAllProps:function(){this.name="",this.beginTime="",this.endTime="",this.totalCount=0,this.totalCost=0,this.joinBeginTime="",this.joinEndTime="",this.organizer="",this.coorganizer="",this.type=-1,this.place=""},back:function(){this.$f7router.back()}}},je=Object(f.a)(Ae,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("f7-page",{staticClass:"me-add-activity",attrs:{"no-toolbar":""}},[a("f7-navbar",{attrs:{"back-link":"返回",sliding:"",title:"添加活动"}}),t._v(" "),a("f7-list",{attrs:{"no-hairlines-md":""}},[a("f7-list-input",{attrs:{label:"活动名称",type:"text",value:t.name,placeholder:"活动名称","error-message":"活动名称不能为空","error-message-force":t.showNameErrorFlag},on:{input:function(e){t.name=e.target.value}}}),t._v(" "),a("f7-list-input",{attrs:{label:"活动类型",type:"select",value:t.type,"error-message":"活动赛事不能为空","error-message-force":t.showTypeErrorFlag},on:{input:function(e){t.type=e.target.value}}},[a("option",{attrs:{value:"1"}},[t._v("萌宠赛事")]),t._v(" "),a("option",{attrs:{value:"2"}},[t._v("宠物趴体")]),t._v(" "),a("option",{attrs:{value:"3"}},[t._v("带宠旅行")])]),t._v(" "),a("f7-list-input",{attrs:{label:"活动地点",value:t.place,placehodler:"活动地点","error-message":"活动地点不能为空","error-message-force":t.showPlaceErrorFlag},on:{input:function(e){t.place=e.target.value}}}),t._v(" "),a("f7-list-input",{attrs:{label:"报名总人数",value:t.totalCount,placeholder:"总人数",type:"number","error-message":"总人数不能为0","error-message-force":t.showTotalCountErrorFlag},on:{input:function(e){t.totalCount=e.target.value}}}),t._v(" "),a("f7-list-input",{attrs:{label:"报名总费用",value:t.totalCost,placeholder:"总费用",type:"number","error-message":"总费用不能为0","error-message-force":t.showTotalCostErrorFlag},on:{input:function(e){t.totalCost=e.target.value}}}),t._v(" "),a("li",[a("date-time",{attrs:{elementId:"me-activity-begin-time",time:t.beginTime,type:"beginTime",placeholder:"活动开始时间"},on:{"input:change":t.dateTimeChange}})],1),t._v(" "),a("li",[a("date-time",{attrs:{elementId:"me-activity-end-time",time:t.endTime,type:"endTime",placeholder:"活动截止时间"},on:{"input:change":t.dateTimeChange}})],1),t._v(" "),a("li",[a("date-time",{attrs:{elementId:"me-activity-join-begin-time",time:t.joinBeginTime,type:"joinBeginTime",placeholder:"报名开始时间"},on:{"input:change":t.dateTimeChange}})],1),t._v(" "),a("li",[a("date-time",{attrs:{elementId:"me-activity-join-end-time",time:t.joinEndTime,type:"joinEndTime",placeholder:"报名截止时间"},on:{"input:change":t.dateTimeChange}})],1),t._v(" "),a("f7-list-input",{attrs:{label:"主办方",type:"text",value:t.organizer,placeholder:"主办方","error-message":"主办方不能为空","error-message-force":t.showOrganizerErrorFlag},on:{input:function(e){t.organizer=e.target.value}}}),t._v(" "),a("f7-list-input",{attrs:{label:"承办方",type:"text",value:t.coorganizer,placeholder:"承办方","error-message":"承办方不能为空","error-message-force":t.showCoorganizerErrorFlag},on:{input:function(e){t.coorganizer=e.target.value}}})],1),t._v(" "),a("div",{staticClass:"block block-strong"},[a("div",{staticClass:"block-header"},[t._v("上传活动图片")]),t._v(" "),a("picture-input",{ref:"pictureInput",attrs:{width:"200",height:"200",margin:"16",accept:"image/jpeg, image/png",size:"10",hideChangeButton:"",removable:!0,customStrings:{upload:"<p>上传活动图片</p>",tap:"<p>上传活动图片</p>",remove:"清除"}},on:{change:t.onChange}})],1),t._v(" "),a("f7-block",[a("f7-row",[a("f7-button",{staticClass:"col",attrs:{raised:""},on:{click:t.back}},[t._v("取消")]),t._v(" "),a("f7-button",{staticClass:"col",attrs:{fill:"",raised:"",color:"green"},on:{click:t.submitActivityData}},[t._v("提交")])],1)],1)],1)},[],!1,null,null,null).exports,Oe={components:{PictureInput:Ee.a},data:function(){return{nickname:"",showNicknameErrorFlag:!1,gender:0,showGenderErrorFlag:!1,age:0,vaccineStatus:0,petType:0,type:"",picture:""}},methods:{onAgeChange:function(t){this.age=t},onChange:function(t){this.picture=t},toast:function(t){this.$f7.toast.create({text:t,closeTimeout:2e3,position:"center"}).open()},submitPetData:(Pt=l()(o.a.mark(function t(){var e,a=this;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,setTimeout(function(){a.showNicknameErrorFlag=!1,a.showGenderErrorFlag=!1},3e3),this.nickname){t.next=4;break}return t.abrupt("return",this.showNicknameErrorFlag=!0);case 4:if(this.gender){t.next=6;break}return t.abrupt("return",this.showGenderErrorFlag=!0);case 6:if(this.picture){t.next=8;break}return t.abrupt("return",this.toast("宠物头像不能为空"));case 8:return this.$f7.preloader.show(),t.next=11,at(this);case 11:if(e=t.sent,this.$f7.preloader.hide(),e){t.next=17;break}return console.log("添加宠物失败",e),this.toast("添加宠物失败"),t.abrupt("return");case 17:this.toast("添加宠物成功"),this.resetAllProps(),setTimeout(function(){a.back()},1e3),t.next=27;break;case 22:t.prev=22,t.t0=t.catch(0),console.error(t.t0),this.$f7.preloader.hide(),this.toast("添加宠物失败");case 27:case"end":return t.stop()}},t,this,[[0,22]])})),function(){return Pt.apply(this,arguments)}),back:function(){this.$f7router.back()},resetAllProps:function(){this.nickname="",this.gender=0,this.age=0,this.vaccineStatus=0,this.petType=0,this.type="",this.picture=""}}},$e=Object(f.a)(Oe,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("f7-page",{staticClass:"me-sign-up",attrs:{"no-toolbar":""}},[a("f7-navbar",{attrs:{"back-link":"返回",sliding:"",title:"添加宠物"}}),t._v(" "),a("f7-list",{attrs:{"no-hairlines-md":""}},[a("f7-list-input",{attrs:{value:t.nickname,label:"宠物昵称",type:"text",placeholder:"宠物昵称","error-message":"宠物昵称不能为空","error-message-force":t.showNicknameErrorFlag},on:{input:function(e){t.nickname=e.target.value}}}),t._v(" "),a("f7-list-input",{attrs:{value:t.gender,label:"性别",type:"select","error-message":"性别不能为空","error-message-force":t.showGenderErrorFlag},on:{input:function(e){t.gender=e.target.value}}},[a("option",{attrs:{value:"1"}},[t._v("公")]),t._v(" "),a("option",{attrs:{value:"2"}},[t._v("母")])]),t._v(" "),a("f7-list-input",{attrs:{label:"年龄",input:!1}},[a("f7-range",{attrs:{slot:"input",label:"",min:1,max:100,step:1},on:{rangeChange:t.onAgeChange},slot:"input"})],1),t._v(" "),a("f7-list-input",{attrs:{value:t.vaccineStatus,label:"疫苗状况",type:"select"},on:{input:function(e){t.vaccineStatus=e.target.value}}},[a("option",{attrs:{value:"1"}},[t._v("已接种")]),t._v(" "),a("option",{attrs:{value:"2"}},[t._v("未接种")])]),t._v(" "),a("f7-list-input",{attrs:{label:"宠物类别",value:t.petType,type:"text",placeholder:"宠物类别"},on:{input:function(e){t.petType=e.target.value}}}),t._v(" "),a("f7-list-input",{attrs:{label:"品种",value:t.type,type:"text",placeholder:"品种"},on:{input:function(e){t.type=e.target.value}}})],1),t._v(" "),a("div",{staticClass:"block block-strong"},[a("div",{staticClass:"block-header"},[t._v("上传头像")]),t._v(" "),a("picture-input",{ref:"pictureInput",attrs:{width:"200",height:"200",margin:"16",accept:"image/*",size:"10",hideChangeButton:"",removable:!0,customStrings:{upload:"<p>上传头像</p>",tap:"<p>上传头像</p>",remove:"清除"}},on:{change:t.onChange}})],1),t._v(" "),a("f7-block",[a("f7-row",[a("f7-button",{staticClass:"col",attrs:{raised:""},on:{click:t.back}},[t._v("取消")]),t._v(" "),a("f7-button",{staticClass:"col",attrs:{fill:"",raised:"",color:"green"},on:{click:t.submitPetData}},[t._v("提交")])],1)],1)],1)},[],!1,null,null,null).exports,Me=new RegExp("^(?=\\d{11}$)^1(?:3\\d|4[57]|5[^4\\D]|66|7[^249\\D]|8\\d|9[89])\\d{8}$"),Se={data:function(){return{username:"",password:"",showUsernameError:!1,showPasswordError:!1,passwordErrorMsg:"",usernameErrorMsg:""}},methods:p()({},Object(ae.d)(["updateUserStatus"]),{signIn:(Et=l()(o.a.mark(function t(){var e,a,r,n,s=this;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((e=this).$f7,e.$f7router,a=Me.test(this.username),r=0===this.username.length,!a||r)return this.showUsernameError=!0,this.usernameErrorMsg=r?"请输入手机号":"手机号格式不正确",setTimeout(function(){s.showUsernameError=!1,s.usernameErrorMsg=""},1e3),t.abrupt("return");t.next=10;break;case 10:if(0===this.password.length)return this.showPasswordError=!0,this.passwordErrorMsg="密码不能为空",setTimeout(function(){s.showPasswordError=!1},1e3),t.abrupt("return");t.next=17;break;case 17:if(this.password.length<6)return this.showPasswordError=!0,this.passwordErrorMsg="密码不能小于6位",setTimeout(function(){s.showPasswordError=!1},1e3),t.abrupt("return");t.next=24;break;case 24:if(64<this.password.length)return this.showPasswordError=!0,this.passwordErrorMsg="密码不能大于64位",setTimeout(function(){s.showPasswordError=!1},1e3),t.abrupt("return");t.next=29;break;case 29:return t.prev=29,this.$f7.preloader.show(),t.next=33,W({username:this.username,password:this.password});case 33:n=t.sent,this.$f7.preloader.hide(),0===n.iRet?(this.updateUserStatus({userId:n.data.userId,userInfo:n.data}),location.reload()):(console.error(n),"Incorrect username or password."===n.data[0]?this.toast("密码或者手机号不正确"):this.toast("登录失败")),t.next=43;break;case 38:t.prev=38,t.t0=t.catch(29),this.$f7.preloader.hide(),console.error(t.t0),this.toast("登录失败");case 43:case"end":return t.stop()}},t,this,[[29,38]])})),function(){return Et.apply(this,arguments)}),signUp:function(){this.$f7router.navigate("/user/signup")},toast:function(t){this.$f7.toast.create({text:t,closeTimeout:2e3,position:"center"}).open()}})},Fe=Object(f.a)(Se,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("f7-page",{attrs:{"no-toolbar":"","no-navbar":"","no-swipeback":"","login-screen":""}},[a("f7-login-screen-title",[t._v("宠伢")]),t._v(" "),a("f7-list",{attrs:{form:""}},[a("f7-list-input",{attrs:{label:"手机号",type:"text",placeholder:"12366660000","error-message-force":t.showUsernameError,"error-message":t.usernameErrorMsg,value:t.username},on:{input:function(e){t.username=e.target.value}}}),t._v(" "),a("f7-list-input",{attrs:{label:"密码",type:"password",placeholder:"密码","error-message":t.passwordErrorMsg,"error-message-force":t.showPasswordError,value:t.password},on:{input:function(e){t.password=e.target.value}}})],1),t._v(" "),a("f7-list",[a("f7-list-button",{on:{click:t.signIn}},[t._v("登录")]),t._v(" "),a("f7-list-button",{on:{click:t.signUp}},[t._v("注册")])],1)],1)},[],!1,null,null,null).exports,Re=new RegExp("^(?=\\d{11}$)^1(?:3\\d|4[57]|5[^4\\D]|66|7[^249\\D]|8\\d|9[89])\\d{8}$"),Be={components:{DateTime:Pe,PictureInput:Ee.a},data:function(){return{name:"",email:"",nickname:"",username:"",password:"",gender:"",age:"",homeAddress:"",workAddress:"",picture:"",showUsernameError:!1,showPasswordError:!1,passwordErrorMsg:""}},methods:{resetAllProps:function(){this.name="",this.email="",this.nickname="",this.username="",this.password="",this.gender="",this.age="",this.homeAddress="",this.workAddress="",this.showUsernameError=!1,this.showPasswordError=!1,this.passwordErrorMsg="",this.picture=""},onAgeChange:function(t){this.age=t},onChange:function(t){console.log(this.$refs.pictureInput.image),this.picture=t},toast:function(t){var e=this,a=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];this.$f7.toast.create({text:t,closeTimeout:2e3,position:"center",on:{close:function(){a&&e.back()}}}).open()},submitSignupData:(At=l()(o.a.mark(function t(){var e,a=this;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Re.test(this.username)){t.next=4;break}return this.showUsernameError=!0,setTimeout(function(){a.showUsernameError=!1},1e3),t.abrupt("return");case 4:if(0===this.password.length)return this.showPasswordError=!0,this.passwordErrorMsg="密码不能为空",setTimeout(function(){a.showPasswordError=!1},1e3),t.abrupt("return");t.next=11;break;case 11:if(this.password.length<6)return this.showPasswordError=!0,this.passwordErrorMsg="密码不能小于6位",setTimeout(function(){a.showPasswordError=!1},1e3),t.abrupt("return");t.next=18;break;case 18:if(64<this.password.length)return this.showPasswordError=!0,this.passwordErrorMsg="密码不能大于64位",setTimeout(function(){a.showPasswordError=!1},1e3),t.abrupt("return");t.next=23;break;case 23:if(this.picture){t.next=26;break}return this.toast("请上传头像",!1),t.abrupt("return");case 26:return t.prev=26,t.next=29,X({name:this.name,email:this.email,nickname:this.nickname,username:this.username,password:this.password,gender:this.gender,age:this.age,homeAddress:this.homeAddress,workAddress:this.workAddress,picture:this.picture});case 29:0===(e=t.sent).iRet?(this.toast("注册成功"),this.resetAllProps()):("该用户名已被注册"===e.data[0]&&(e.data[0]="该手机号已被注册"),this.toast(e.data[0],!1)),t.next=37;break;case 33:t.prev=33,t.t0=t.catch(26),console.error(t.t0),this.$f7.dialog.alert("注册失败, 请重试");case 37:case"end":return t.stop()}},t,this,[[26,33]])})),function(){return At.apply(this,arguments)}),back:function(){this.$f7router.back()}}},Le=Object(f.a)(Be,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("f7-page",{staticClass:"me-sign-up",attrs:{"no-toolbar":""}},[a("f7-navbar",{attrs:{"back-link":"返回",sliding:"",title:"注册"}}),t._v(" "),a("f7-list",{attrs:{"no-hairlines-md":""}},[a("f7-list-input",{attrs:{value:t.name,label:"姓名",type:"text",placeholder:"姓名"},on:{input:function(e){t.name=e.target.value}}}),t._v(" "),a("f7-list-input",{attrs:{value:t.email,label:"邮箱",type:"email",placeholder:"example@example.com"},on:{input:function(e){t.email=e.target.value}}}),t._v(" "),a("f7-list-input",{attrs:{value:t.nickname,label:"昵称",type:"text",placeholder:"昵称"},on:{input:function(e){t.nickname=e.target.value}}}),t._v(" "),a("f7-list-input",{attrs:{"error-message":"手机号格式不正确","error-message-force":t.showUsernameError,value:t.username,label:"手机号",placeholder:"手机号"},on:{input:function(e){t.username=e.target.value}}}),t._v(" "),a("f7-list-input",{attrs:{"error-message":t.passwordErrorMsg,"error-message-force":t.showPasswordError,value:t.password,label:"密码",type:"password",placeholder:"密码"},on:{input:function(e){t.password=e.target.value}}}),t._v(" "),a("f7-list-input",{attrs:{value:t.gender,label:"性别",type:"select"},on:{input:function(e){t.gender=e.target.value}}},[a("option",{attrs:{value:"1"}},[t._v("男")]),t._v(" "),a("option",{attrs:{value:"2"}},[t._v("女")]),t._v(" "),a("option",{attrs:{value:"3"}},[t._v("待定")])]),t._v(" "),a("f7-list-input",{attrs:{label:"年龄",input:!1}},[a("f7-range",{attrs:{slot:"input",label:"",value:18,min:0,max:100,step:1},on:{rangeChange:t.onAgeChange},slot:"input"})],1),t._v(" "),a("f7-list-input",{attrs:{value:t.homeAddress,label:"居住地址",type:"textarea",placeholder:"居住地址",resizable:""},on:{input:function(e){t.homeAddress=e.target.value}}}),t._v(" "),a("f7-list-input",{attrs:{value:t.workAddress,label:"工作单位",type:"textarea",placeholder:"工作单位",resizable:""},on:{input:function(e){t.workAddress=e.target.value}}})],1),t._v(" "),a("div",{staticClass:"block block-strong"},[a("div",{staticClass:"block-header"},[t._v("上传头像")]),t._v(" "),a("picture-input",{ref:"pictureInput",attrs:{width:"200",height:"200",margin:"16",accept:"image/*",size:"10",hideChangeButton:"",removable:!0,customStrings:{upload:"<p>上传头像</p>",tap:"<p>上传头像</p>",remove:"清除"}},on:{change:t.onChange}})],1),t._v(" "),a("f7-block",[a("f7-row",[a("f7-button",{staticClass:"col",attrs:{raised:""},on:{click:t.back}},[t._v("取消")]),t._v(" "),a("f7-button",{staticClass:"col",attrs:{fill:"",raised:"",color:"green"},on:{click:t.submitSignupData}},[t._v("注册")])],1)],1)],1)},[],!1,null,null,null).exports,ze={data:function(){return{userInfo:{},pet:{},isGetUserInfo:!1,isTabFirstShow:!1,isPageFirstIn:!1}},computed:p()({},Object(ae.e)(["user"]),{link:function(){return"/person/detail"}}),methods:{onTabShow:function(){},onPageBeforeIn:(jt=l()(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,this.isPageFirstIn)return t.abrupt("return");t.next=3;break;case 3:return t.next=5,q();case 5:e=t.sent,this.isPageFirstIn=!0,0===e.iRet?(e.data.userInfo&&(this.userInfo=e.data.userInfo),e.data.pet&&(this.pet=e.data.pet),this.isGetUserInfo=!0):console.error(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.error(t.t0);case 13:case"end":return t.stop()}},t,this,[[0,10]])})),function(){return jt.apply(this,arguments)})}},De=(a(93),Object(f.a)(ze,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("f7-page",{attrs:{id:"personView","page-content":!1},on:{"page:beforein":t.onPageBeforeIn}},[a("f7-navbar",{attrs:{title:"我的"}}),t._v(" "),a("f7-page-content",{on:{"tab:show":t.onTabShow}},[a("f7-list",{staticClass:"me-person-profile"},[a("f7-list-item",{attrs:{link:t.link}},[a("img",{attrs:{slot:"media",src:t.userInfo.image},slot:"media"}),t._v(" "),a("div",{attrs:{slot:"inner-start"},slot:"inner-start"},[a("div",{staticClass:"me-person-name"},[t._v(t._s(t.userInfo.nickname))]),t._v(" "),a("div",{staticClass:"me-person-master-pet"},[t._v(t._s(t.pet&&t.pet.name||""))])])])],1),t._v(" "),a("f7-list",{staticClass:"me-person-pet-list"},[a("f7-list-item",{attrs:{divider:"",title:"我的宠物"}}),t._v(" "),a("li",{staticClass:"item-content"},[a("a",{attrs:{href:"/person/pets"}},[a("div",{staticClass:"item-inner item-cell"},[a("div",{staticClass:"item-row"},[a("div",{staticClass:"item-cell"},[a("i",{staticClass:"iconfont icon-pets"}),t._v(" "),a("div",[t._v("宠物")])])])])])])],1),t._v(" "),a("f7-list",{staticClass:"me-person-tweet"},[a("f7-list-item",{attrs:{divider:"",title:"我的互动"}}),t._v(" "),a("a",{attrs:{href:"/person/tweets"}},[a("li",{staticClass:"item-content"},[a("div",{staticClass:"item-inner item-cell"},[a("div",{staticClass:"item-row"},[a("div",{staticClass:"item-cell"},[a("i",{staticClass:"iconfont icon-activity1"}),t._v(" "),a("div",[t._v("动态")])])])])])])],1),t._v(" "),a("f7-list",{staticClass:"me-person-activity"},[a("f7-list-item",{attrs:{divider:"",title:"我的活动"}}),t._v(" "),a("a",{attrs:{href:"/person/activities"}},[a("li",{staticClass:"item-content"},[a("div",{staticClass:"item-inner item-cell"},[a("div",{staticClass:"item-row"},[a("div",{staticClass:"item-cell"},[a("i",{staticClass:"iconfont icon-xunzhang"}),t._v("\n                活动勋章\n              ")]),t._v(" "),a("div",{staticClass:"item-cell"},[a("i",{staticClass:"iconfont icon-xunzhang"}),t._v("\n                赛事勋章\n              ")])])])])])],1),t._v(" "),a("f7-list",{staticClass:"me-person-other"},[a("f7-list-item",{attrs:{divider:"",title:"其他"}}),t._v(" "),a("a",{attrs:{href:"/market/add"}},[a("li",{staticClass:"item-content"},[a("div",{staticClass:"item-inner item-cell"},[a("div",{staticClass:"item-row"},[a("div",{staticClass:"item-cell"},[a("i",{staticClass:"iconfont icon-shangjia"}),t._v(" "),a("div",[t._v("商家")])])])])])])],1)],1)],1)},[],!1,null,"4d914031",null).exports),Ue={props:{marketList:{type:Array}},methods:{getDetailLink:function(t){return"/market/detail/".concat(t.marketId)}}},Ne=Object(f.a)(Ue,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("f7-list",{staticClass:"me-media-list me-market-list",attrs:{"media-list":""}},t._l(t.marketList,function(e){return a("f7-list-item",{key:e.marketId,attrs:{link:t.getDetailLink(e),"media-item":"",title:e.name,subtitle:e.place,text:e.intro}},[a("img",{staticClass:"lazy lazy-fade-in",attrs:{slot:"media",src:e.image,width:"80",height:"80"},slot:"media"})])}),1)},[],!1,null,null,null).exports,Ge={computed:p()({},Object(ae.e)(["user"])),components:{BannerSwiper:ce,MarketList:Ne},data:function(){return{bannerImages:[],showMarketPreloader:!0,allowInfinite:!0,marketList:[],page:1,isFirstPageIn:!1,isTabFirstIn:!1}},methods:{onPageBeforeIn:function(){this.isFirstPageIn||(this.getIndexMarketList(),this.isFirstPageIn=!0)},onMarketPageRefresh:(Mt=l()(o.a.mark(function t(e,a){var r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,H({offset:1});case 3:0===(r=t.sent).iRet?(r.length<6&&(this.showMarketPreloader=!1),this.marketList=r.data):console.error(error),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:return t.prev=10,a(),t.finish(10);case 13:case"end":return t.stop()}},t,this,[[0,7,10,13]])})),function(){return Mt.apply(this,arguments)}),onMarketLoadMore:($t=l()(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,this.allowInfinite){t.next=3;break}return t.abrupt("return");case 3:return this.allowInfinite=!0,t.next=6,H({offset:this.page+1});case 6:if(0!==(e=t.sent).iRet){t.next=15;break}if(0===e.data.length)return this.showMarketPreloader=!1,t.abrupt("return");t.next=11;break;case 11:this.page+=1,this.marketList=[].concat(_e()(this.marketList),_e()(e.data)),t.next=16;break;case 15:console.error(e);case 16:t.next=21;break;case 18:t.prev=18,t.t0=t.catch(0),console.error(t.t0);case 21:return t.prev=21,this.allowInfinite=!0,t.finish(21);case 24:case"end":return t.stop()}},t,this,[[0,18,21,24]])})),function(){return $t.apply(this,arguments)}),getIndexMarketList:(Ot=l()(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,H({offset:1});case 3:0===(e=t.sent).iRet?(e.data.length<6&&(this.showMarketPreloader=!1),this.marketList=e.data):(console.error(e),this.showMarketPreloader=!1),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0),this.showMarketPreloader=!1;case 11:case"end":return t.stop()}},t,this,[[0,7]])})),function(){return Ot.apply(this,arguments)})}},qe=(a(94),Object(f.a)(Ge,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("f7-page",{attrs:{id:"marketView",tabs:"","page-content":!1},on:{"page:beforein":t.onPageBeforeIn}},[a("f7-navbar",{attrs:{title:"市场"}}),t._v(" "),a("f7-page-content",{staticClass:"me-market-page-content",attrs:{tab:"","tab-active":"",ptr:"",infinite:"","infinite-preloader":t.showMarketPreloader},on:{"ptr:refresh":t.onMarketPageRefresh,infinite:t.onMarketLoadMore}},[a("banner-swiper",{attrs:{bannerImages:t.bannerImages}}),t._v(" "),t.marketList.length?a("market-list",{attrs:{marketList:t.marketList}}):a("f7-block",{attrs:{inset:"",strong:""}},[a("p",[t._v("暂无相关市场信息")])])],1),t._v(" "),a("f7-fab",{attrs:{slot:"fixed",position:"right-bottom",color:"orange",href:"/market/add"},slot:"fixed"},[a("f7-icon",{attrs:{ios:"f7:add",aurora:"f7:add",md:"material:add"}})],1)],1)},[],!1,null,"51dc6279",null).exports),Ve={components:{PictureInput:Ee.a},data:function(){return{name:"",contact:"",phoneNumber:"",place:"",serveType:-1,workTime:"",intro:"",picture:"",showNameErrorMsg:!1,showContactErrorMsg:!1,showPhoneNumberErrorMsg:!1,showPlaceErrorMsg:!1,showPictureErrorMsg:!1,showServeTypeErrorMsg:!1}},methods:{onChange:function(t){this.picture=t},toast:function(t){this.$f7.toast.create({text:t,closeTimeout:2e3,position:"center"}).open()},back:function(){this.$f7router.back()},resetAllProps:function(){this.name="",this.contact="",this.phoneNumber="",this.place="",this.serveType=-1,this.workTime="",this.intro="",this.picture=""},submitMarketData:(St=l()(o.a.mark(function t(){var e,a=this;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,setTimeout(function(){a.showNameErrorMsg=!1,a.showContactErrorMsg=!1,a.showPhoneNumberErrorMsg=!1,a.showPlaceErrorMsg=!1,a.showServeTypeErrorMsg=!1},2e3),this.name){t.next=4;break}return t.abrupt("return",this.showNameErrorMsg=!0);case 4:if(this.contact){t.next=6;break}return t.abrupt("return",this.showContactErrorMsg=!0);case 6:if(this.phoneNumber){t.next=8;break}return t.abrupt("return",this.showPhoneNumberErrorMsg=!0);case 8:if(this.place){t.next=10;break}return t.abrupt("return",this.showPlaceErrorMsg=!0);case 10:if(!this.serveType<0)return t.abrupt("return",this.showServeTypeErrorMsg=!0);t.next=12;break;case 12:if(this.picture){t.next=14;break}return t.abrupt("return",this.toast("商家封面图片不能为空",!1));case 14:return this.$f7.preloader.show(),t.next=17,Y({name:this.name,contact:this.contact,phoneNumber:this.phoneNumber,place:this.place,serveType:this.serveType,workTime:this.workTime,intro:this.intro,picture:this.picture});case 17:e=t.sent,this.$f7.preloader.hide(),0===e.iRet?(this.toast("新建商家成功"),this.resetAllProps(),setTimeout(function(){a.back()},1e3)):(this.toast("新建商家失败",!1),console.error(e)),t.next=27;break;case 22:t.prev=22,t.t0=t.catch(0),console.error(t.t0),this.$f7.preloader.hide(),this.toast("创建商家失败",!1);case 27:case"end":return t.stop()}},t,this,[[0,22]])})),function(){return St.apply(this,arguments)})}},Je=Object(f.a)(Ve,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("f7-page",{staticClass:"me-add-market",attrs:{"no-toolbar":""}},[a("f7-navbar",{attrs:{"back-link":"返回",sliding:"",title:"添加商家"}}),t._v(" "),a("f7-list",{attrs:{"no-hairlines-md":""}},[a("f7-list-input",{attrs:{label:"商家名称",type:"text",value:t.name,placeholder:"商家名称","error-message":"商家名称不能为空","error-message-force":t.showNameErrorMsg},on:{input:function(e){t.name=e.target.value}}}),t._v(" "),a("f7-list-input",{attrs:{label:"联系人",type:"text",value:t.contact,placeholder:"联系人","error-message":"联系人不能为空","error-messsage-force":t.showContactErrorMsg},on:{input:function(e){t.contact=e.target.value}}}),t._v(" "),a("f7-list-input",{attrs:{label:"联系方式",type:"text",value:t.phoneNumber,placeholder:"联系方式","error-message":"联系方式不能为空","error-message-force":t.showPhoneNumberErrorMsg},on:{input:function(e){t.phoneNumber=e.target.value}}}),t._v(" "),a("f7-list-input",{attrs:{label:"商家地址",type:"text",value:t.place,placeholder:"商家地址","error-message":"商家地址不能为空","error-message-force":t.showPlaceErrorMsg},on:{input:function(e){t.place=e.target.value}}}),t._v(" "),a("f7-list-input",{attrs:{label:"服务类型",type:"select",value:t.serveType,"error-message":"服务类型不能为空","error-message-force":t.showServeTypeErrorMsg},on:{input:function(e){t.serveType=e.target.value}}},[a("option",{attrs:{value:"1"}},[t._v("医疗")]),t._v(" "),a("option",{attrs:{value:"2"}},[t._v("美容")]),t._v(" "),a("option",{attrs:{value:"3"}},[t._v("训练")]),t._v(" "),a("option",{attrs:{value:"4"}},[t._v("拍照")]),t._v(" "),a("option",{attrs:{value:"5"}},[t._v("寄养")])]),t._v(" "),a("f7-list-input",{attrs:{label:"工作时间",type:"textarea",resizable:"",value:t.workTime},on:{input:function(e){t.workTime=e.target.value}}}),t._v(" "),a("f7-list-input",{attrs:{label:"简介",type:"textarea",resizable:"",value:t.intro},on:{input:function(e){t.intro=e.target.value}}})],1),t._v(" "),a("div",{staticClass:"block block-strong"},[a("div",{staticClass:"block-header"},[t._v("上传商家图片")]),t._v(" "),a("picture-input",{ref:"pictureInput",attrs:{width:"200",height:"200",margin:"16",accept:"image/*",size:"10",hideChangeButton:"",removable:!0,customStrings:{upload:"<p>上传商家图片</p>",tap:"<p>上传商家图片</p>",remove:"清除"}},on:{change:t.onChange}})],1),t._v(" "),a("f7-block",[a("f7-row",[a("f7-button",{staticClass:"col",attrs:{raised:""},on:{click:t.back}},[t._v("取消")]),t._v(" "),a("f7-button",{staticClass:"col",attrs:{fill:"",raised:"",color:"green"},on:{click:t.submitMarketData}},[t._v("确认")])],1)],1)],1)},[],!1,null,null,null).exports,Ye={data:function(){return{allPets:[],isPageFirstIn:!1}},methods:{getGenderText:function(t){return 1==t.gender?"性别：公":"性别：母"},onPageRefresh:(Rt=l()(o.a.mark(function t(e,a){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getAllPets();case 2:a();case 3:case"end":return t.stop()}},t,this)})),function(){return Rt.apply(this,arguments)}),getDetailLink:function(t){return"/pet/detail/".concat(t.petId)},onPageBeforeIn:function(){this.isPageFirstIn||(this.getAllPets(),this.isPageFirstIn=!0)},getAllPets:(Ft=l()(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,N();case 3:0===(e=t.sent).iRet?this.allPets=e.data:console.error(e),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])})),function(){return Ft.apply(this,arguments)})}},He=Object(f.a)(Ye,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("f7-page",{attrs:{"no-toolbar":"","page-content":!1},on:{"page:beforein":t.onPageBeforeIn}},[a("f7-navbar",{attrs:{title:"我的宠物","back-link":"返回"}}),t._v(" "),a("f7-page-content",{attrs:{ptr:""},on:{"ptr:refresh":t.onPageRefresh}},[t.allPets.length?a("f7-list",{staticClass:"me-media-list me-person-all-pets",attrs:{"media-list":""}},t._l(t.allPets,function(e){return a("f7-list-item",{key:e.petId,attrs:{"media-item":"",link:t.getDetailLink(e),title:"昵称："+e.nickname,subtitle:"年龄："+e.age,text:t.getGenderText(e)}},[a("img",{staticClass:"lazy lazy-fade-in",attrs:{slot:"media",src:e.image,width:"80",height:"80"},slot:"media"})])}),1):a("f7-block",{attrs:{inset:""}},[a("p",[t._v("暂无宠物信息")])])],1),t._v(" "),a("f7-fab",{attrs:{slot:"fixed",position:"right-bottom",color:"orange",href:"/pet/add"},slot:"fixed"},[a("f7-icon",{attrs:{ios:"f7:add",aurora:"f7:add",md:"material:add"}})],1)],1)},[],!1,null,null,null).exports,Ke=a(16),Qe=a.n(Ke)()({methods:{},data:function(){return{activities:[],page:1,showPreloader:!0,allowInfinite:!0,isLoadAll:!1,isPageFirstIn:!1}}},"methods",{onPageBeforeIn:function(){this.isPageFirstIn||(this.getIndexActivities(),this.isPageFirstIn=!0)},onRefresh:(zt=l()(o.a.mark(function t(e){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getIndexActivities();case 2:e();case 3:case"end":return t.stop()}},t,this)})),function(){return zt.apply(this,arguments)}),loadMore:(Lt=l()(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.allowInfinite||this.isLoadAll)return t.abrupt("return");t.next=2;break;case 2:return this.allowInfinite=!1,t.prev=3,t.next=6,Z({page:this.page+1});case 6:0===(e=t.sent).iRet?(this.page=this.page+1,0===e.data.length?(this.showPreloader=!1,this.isLoadAll=!0):this.activities=[].concat(_e()(e.data),_e()(this.activities))):console.error(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),console.error(t.t0);case 13:return t.prev=13,this.allowInfinite=!0,t.finish(13);case 16:case"end":return t.stop()}},t,this,[[3,10,13,16]])})),function(){return Lt.apply(this,arguments)}),getIndexActivities:(Bt=l()(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Z({page:1});case 3:0===(e=t.sent).iRet?this.activities=e.data:console.error(e),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])})),function(){return Bt.apply(this,arguments)})}),We=Object(f.a)(Qe,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("f7-page",{attrs:{"no-toolbar":"",ptr:"","infinite-preloader":t.showPreloader},on:{"ptr:refresh":t.onRefresh,infinite:t.loadMore,"page:beforein":t.onPageBeforeIn}},[a("f7-navbar",{attrs:{title:"我的赛事","back-link":"返回"}}),t._v(" "),t.activities.length?a("f7-list",{staticClass:"me-media-list me-acitivities",attrs:{"media-list":""}},t._l(t.activities,function(t){return a("f7-list-item",{key:t.activityId,attrs:{link:"#","media-item":""}})}),1):a("f7-block",{attrs:{inset:""}},[a("p",[t._v("暂无赛事信息")])])],1)},[],!1,null,null,null).exports,Xe={components:{CardList:ie},data:function(){return{tweets:[],page:1,showPreloader:!0,allowInfinite:!0,isLoadAll:!1,isPageFirstIn:!1}},methods:{onPageBeforeIn:function(){this.isPageFirstIn||(this.getIndexTweets(),this.isPageFirstIn=!0)},onRefresh:(Nt=l()(o.a.mark(function t(e){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getIndexTweets();case 2:e();case 3:case"end":return t.stop()}},t,this)})),function(){return Nt.apply(this,arguments)}),loadMoreTweets:(Ut=l()(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.allowInfinite||this.isLoadAll)return t.abrupt("return");t.next=2;break;case 2:return this.allowInfinite=!1,t.prev=3,t.next=6,V({page:this.page+1});case 6:0===(e=t.sent).iRet?(this.page=this.page+1,0===e.data.length?(this.showPreloader=!1,this.isLoadAll=!0):this.tweets=[].concat(_e()(e.data),_e()(this.tweets))):console.error(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),console.error(t.t0);case 13:return t.prev=13,this.allowInfinite=!0,t.finish(13);case 16:case"end":return t.stop()}},t,this,[[3,10,13,16]])})),function(){return Ut.apply(this,arguments)}),getIndexTweets:(Dt=l()(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,V({page:1});case 3:0===(e=t.sent).iRet?this.tweets=e.data:console.error(e),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])})),function(){return Dt.apply(this,arguments)})}},Ze=Object(f.a)(Xe,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("f7-page",{attrs:{id:"personTweetsView","no-toolbar":"",ptr:"","infinite-preloader":t.showPreloader},on:{"ptr:refresh":t.onRefresh,infinite:t.loadMoreTweets,"page:beforein":t.onPageBeforeIn}},[a("f7-navbar",{attrs:{title:"我的动态","back-link":"返回"}}),t._v(" "),t.tweets.length?a("card-list",{attrs:{loadCardData:t.tweets}}):a("f7-block",{attrs:{inset:""}},[t._v("暂无动态")])],1)},[],!1,null,null,null).exports,ta={props:{activityId:null},data:function(){return{backText:"返回",activityInfo:null}},methods:{onPageBeforeIn:function(){this.getActivityInfo()},getActivityInfo:(Gt=l()(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,tt({activityId:this.activityId});case 3:0===(e=t.sent).iRet?this.activityInfo=e.data:console.error(e),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])})),function(){return Gt.apply(this,arguments)})}},ea=(a(95),Object(f.a)(ta,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("f7-page",{attrs:{name:"activityDetail","no-toolbar":""},on:{"page:beforein":t.onPageBeforeIn}},[a("f7-navbar",{attrs:{"back-link":t.backText,sliding:"",title:"活动信息"}}),t._v(" "),a("f7-block-title",[t._v("赛事信息")]),t._v(" "),t.activityInfo?a("f7-list",{staticClass:"me-activity-detail-list media-list"},[a("li",{staticClass:"me-list-item"},[a("a",{staticClass:"item-content"},[a("div",{staticClass:"item-inner"},[a("div",{staticClass:"item-title"},[a("div",{staticClass:"item-header"},[t._v("活动名称")]),t._v("\n            "+t._s(t.activityInfo.name||"暂无")+"\n          ")]),t._v(" "),a("div",{staticClass:"item-after"})])])]),t._v(" "),a("li",{staticClass:"me-list-item"},[a("a",{staticClass:"item-content"},[a("div",{staticClass:"item-inner"},[a("div",{staticClass:"item-title"},[a("div",{staticClass:"item-header"},[t._v("活动开始时间")]),t._v("\n            "+t._s(t.activityInfo.beginTime||"暂无")+"\n          ")]),t._v(" "),a("div",{staticClass:"item-after"})])])]),t._v(" "),a("li",{staticClass:"me-list-item"},[a("a",{staticClass:"item-content"},[a("div",{staticClass:"item-inner"},[a("div",{staticClass:"item-title"},[a("div",{staticClass:"item-header"},[t._v("活动结束时间")]),t._v("\n            "+t._s(t.activityInfo.endTime||"暂无")+"\n          ")]),t._v(" "),a("div",{staticClass:"item-after"})])])]),t._v(" "),a("li",{staticClass:"me-list-item"},[a("a",{staticClass:"item-content"},[a("div",{staticClass:"item-inner"},[a("div",{staticClass:"item-title"},[a("div",{staticClass:"item-header"},[t._v("报名总人数")]),t._v("\n            "+t._s(t.activityInfo.totalCount||"暂无")+"\n          ")]),t._v(" "),a("div",{staticClass:"item-after"})])])]),t._v(" "),a("li",{staticClass:"me-list-item"},[a("a",{staticClass:"item-content"},[a("div",{staticClass:"item-inner"},[a("div",{staticClass:"item-title"},[a("div",{staticClass:"item-header"},[t._v("报名总费用")]),t._v("\n            "+t._s(t.activityInfo.totalCost||"暂无")+"\n          ")]),t._v(" "),a("div",{staticClass:"item-after"})])])]),t._v(" "),a("li",{staticClass:"me-list-item"},[a("a",{staticClass:"item-content"},[a("div",{staticClass:"item-inner"},[a("div",{staticClass:"item-title"},[a("div",{staticClass:"item-header"},[t._v("报名开始时间")]),t._v("\n            "+t._s(t.activityInfo.joinBeginTime||"暂无")+"\n          ")]),t._v(" "),a("div",{staticClass:"item-after"})])])]),t._v(" "),a("li",{staticClass:"me-list-item"},[a("a",{staticClass:"item-content"},[a("div",{staticClass:"item-inner"},[a("div",{staticClass:"item-title"},[a("div",{staticClass:"item-header"},[t._v("报名结束时间")]),t._v("\n            "+t._s(t.activityInfo.joinEndTime||"暂无")+"\n          ")]),t._v(" "),a("div",{staticClass:"item-after"})])])]),t._v(" "),a("li",{staticClass:"me-list-item"},[a("a",{staticClass:"item-content"},[a("div",{staticClass:"item-inner"},[a("div",{staticClass:"item-title"},[a("div",{staticClass:"item-header"},[t._v("主办方")])]),t._v(" "),a("div",{staticClass:"item-text"},[t._v(t._s(t.activityInfo.organizer||"暂无"))])])])]),t._v(" "),a("li",{staticClass:"me-list-item"},[a("a",{staticClass:"item-content"},[a("div",{staticClass:"item-inner"},[a("div",{staticClass:"item-title"},[a("div",{staticClass:"item-header"},[t._v("承办方")])]),t._v(" "),a("div",{staticClass:"item-text"},[t._v(t._s(t.activityInfo.coorganizer||"暂无"))])])])]),t._v(" "),a("li",{staticClass:"me-list-item"},[a("a",{staticClass:"item-content"},[a("div",{staticClass:"item-inner"},[a("div",{staticClass:"item-title"},[a("div",{staticClass:"item-header"},[t._v("活动地点")])]),t._v(" "),a("div",{staticClass:"item-text"},[t._v(t._s(t.activityInfo.place||"暂无"))])])])])]):a("f7-block",{attrs:{inset:""}},[t._v("暂无赛事信息")])],1)},[],!1,null,"7c0e6211",null).exports),aa={props:{marketId:null},data:function(){return{backText:"返回",marketInfo:null}},methods:{onPageBeforeIn:function(){this.getMarketInfo()},getMarketInfo:(qt=l()(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,J({marketId:this.marketId});case 3:0===(e=t.sent).iRet?this.marketInfo=e.data:console.error(e),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])})),function(){return qt.apply(this,arguments)})}},ra=(a(96),Object(f.a)(aa,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("f7-page",{attrs:{name:"marketDetail","no-toolbar":""},on:{"page:beforein":t.onPageBeforeIn}},[a("f7-navbar",{attrs:{"back-link":t.backText,sliding:"",title:"商家信息"}}),t._v(" "),a("f7-block-title",[t._v("商家信息")]),t._v(" "),t.marketInfo?a("f7-list",{staticClass:"me-market-detail-list media-list"},[a("li",{staticClass:"me-list-item"},[a("a",{staticClass:"item-content"},[a("div",{staticClass:"item-inner"},[a("div",{staticClass:"item-title"},[a("div",{staticClass:"item-header"},[t._v("商家名称")]),t._v("\n            "+t._s(t.marketInfo.name||"暂无")+"\n          ")]),t._v(" "),a("div",{staticClass:"item-after"})])])]),t._v(" "),a("li",{staticClass:"me-list-item"},[a("a",{staticClass:"item-content"},[a("div",{staticClass:"item-inner"},[a("div",{staticClass:"item-title"},[a("div",{staticClass:"item-header"},[t._v("联系人")]),t._v("\n            "+t._s(t.marketInfo.contact||"暂无")+"\n          ")]),t._v(" "),a("div",{staticClass:"item-after"})])])]),t._v(" "),a("li",{staticClass:"me-list-item"},[a("a",{staticClass:"item-content"},[a("div",{staticClass:"item-inner"},[a("div",{staticClass:"item-title"},[a("div",{staticClass:"item-header"},[t._v("联系方式")]),t._v("\n            "+t._s(t.marketInfo.phoneNumber||"暂无")+"\n          ")]),t._v(" "),a("div",{staticClass:"item-after"})])])]),t._v(" "),a("li",{staticClass:"me-list-item"},[a("a",{staticClass:"item-content"},[a("div",{staticClass:"item-inner"},[a("div",{staticClass:"item-title"},[a("div",{staticClass:"item-header"},[t._v("工作时间")]),t._v("\n            "+t._s(t.marketInfo.workTime||"暂无")+"\n          ")])])])]),t._v(" "),a("li",{staticClass:"me-list-item"},[a("a",{staticClass:"item-content"},[a("div",{staticClass:"item-inner"},[a("div",{staticClass:"item-title"},[a("div",{staticClass:"item-header"},[t._v("地点")])]),t._v(" "),a("div",{staticClass:"item-text"},[t._v(t._s(t.marketInfo.place||"暂无"))])])])]),t._v(" "),a("li",{staticClass:"me-list-item"},[a("a",{staticClass:"item-content"},[a("div",{staticClass:"item-inner"},[a("div",{staticClass:"item-title"},[a("div",{staticClass:"item-header"},[t._v("简介")])]),t._v(" "),a("div",{staticClass:"item-text"},[t._v(t._s(t.marketInfo.intro||"暂无"))])])])])]):a("f7-block",{attrs:{inset:""}},[t._v("暂无商家信息")])],1)},[],!1,null,"59b3a950",null).exports),na={data:function(){return{backText:"返回",userInfo:null}},computed:{gender:function(){return 1==this.userInfo.gender?"男":"女"}},methods:{onPageAfterIn:(Vt=l()(o.a.mark(function t(){var e,a,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,q();case 3:e=t.sent,a=e.iRet,r=e.data,0===a?this.userInfo=r.userInfo:console.error(r),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.error(t.t0);case 12:case"end":return t.stop()}},t,this,[[0,9]])})),function(){return Vt.apply(this,arguments)})}},sa=(a(97),Object(f.a)(na,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("f7-page",{attrs:{name:"personDetail","no-toolbar":""},on:{"page:afterin":t.onPageAfterIn}},[a("f7-navbar",{attrs:{"back-link":t.backText,sliding:"",title:"个人信息"}}),t._v(" "),a("f7-block-title",[t._v("用户信息")]),t._v(" "),t.userInfo?a("f7-list",{staticClass:"me-person-detail-list media-list"},[a("li",{staticClass:"me-list-item"},[a("a",{staticClass:"item-content"},[a("div",{staticClass:"item-inner"},[a("div",{staticClass:"item-title"},[a("div",{staticClass:"item-header"},[t._v("姓名")])]),t._v(" "),a("div",{staticClass:"item-text"},[t._v(t._s(t.userInfo.name||"暂无"))])])])]),t._v(" "),a("li",{staticClass:"me-list-item"},[a("a",{staticClass:"item-content"},[a("div",{staticClass:"item-inner"},[a("div",{staticClass:"item-title"},[a("div",{staticClass:"item-header"},[t._v("昵称")])]),t._v(" "),a("div",{staticClass:"item-text"},[t._v(t._s(t.userInfo.nickname||"暂无"))])])])]),t._v(" "),a("li",{staticClass:"me-list-item"},[a("a",{staticClass:"item-content"},[a("div",{staticClass:"item-inner"},[a("div",{staticClass:"item-title"},[a("div",{staticClass:"item-header"},[t._v("年龄")])]),t._v(" "),a("div",{staticClass:"item-text"},[t._v(t._s(t.userInfo.age||"暂无"))])])])]),t._v(" "),a("li",{staticClass:"me-list-item"},[a("a",{staticClass:"item-content"},[a("div",{staticClass:"item-inner"},[a("div",{staticClass:"item-title"},[a("div",{staticClass:"item-header"},[t._v("性别")])]),t._v(" "),a("div",{staticClass:"item-text"},[t._v(t._s(t.gender||"暂无"))])])])]),t._v(" "),a("li",{staticClass:"me-list-item"},[a("a",{staticClass:"item-content"},[a("div",{staticClass:"item-inner"},[a("div",{staticClass:"item-title"},[a("div",{staticClass:"item-header"},[t._v("家庭住址")])]),t._v(" "),a("div",{staticClass:"item-text"},[t._v(t._s(t.userInfo.homeAddress||"暂无"))])])])]),t._v(" "),a("li",{staticClass:"me-list-item"},[a("a",{staticClass:"item-content"},[a("div",{staticClass:"item-inner"},[a("div",{staticClass:"item-title"},[a("div",{staticClass:"item-header"},[t._v("工作地址")])]),t._v(" "),a("div",{staticClass:"item-text"},[t._v(t._s(t.userInfo.workAddress||"暂无"))])])])])]):a("f7-block",{attrs:{inset:""}},[t._v("暂无相关信息")])],1)},[],!1,null,"7bb78946",null).exports),ia={props:{petId:null},data:function(){return{backText:"返回",petInfo:null}},computed:{vaccineStatus:function(){return 1==this.petInfo.vaccineStatus?"已接种":"未接种"},gender:function(){return 1==this.petInfo.gender?"公":"母"}},methods:{onPageBeforeIn:function(){this.getPetDetail()},getPetDetail:(Jt=l()(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,G({petId:this.petId});case 3:0===(e=t.sent).iRet?this.petInfo=e.data:console.error(e),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])})),function(){return Jt.apply(this,arguments)})}},oa=(a(98),Object(f.a)(ia,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("f7-page",{attrs:{name:"petDetail","no-toolbar":""},on:{"page:beforein":t.onPageBeforeIn}},[a("f7-navbar",{attrs:{"back-link":t.backText,sliding:"",title:"宠物信息"}}),t._v(" "),a("f7-block-title",[t._v("宠物信息")]),t._v(" "),t.petInfo?a("f7-list",{staticClass:"me-pet-detail-list media-list"},[a("li",{staticClass:"me-list-item"},[a("a",{staticClass:"item-content"},[a("div",{staticClass:"item-inner"},[a("div",{staticClass:"item-title"},[a("div",{staticClass:"item-header"},[t._v("宠物昵称")])]),t._v(" "),a("div",{staticClass:"item-text"},[t._v(t._s(t.petInfo.nickname||"暂无"))])])])]),t._v(" "),a("li",{staticClass:"me-list-item"},[a("a",{staticClass:"item-content"},[a("div",{staticClass:"item-inner"},[a("div",{staticClass:"item-title"},[a("div",{staticClass:"item-header"},[t._v("宠物性别")])]),t._v(" "),a("div",{staticClass:"item-text"},[t._v(t._s(t.gender||"暂无"))])])])]),t._v(" "),a("li",{staticClass:"me-list-item"},[a("a",{staticClass:"item-content"},[a("div",{staticClass:"item-inner"},[a("div",{staticClass:"item-title"},[a("div",{staticClass:"item-header"},[t._v("年龄")])]),t._v(" "),a("div",{staticClass:"item-text"},[t._v(t._s(t.petInfo.age||"暂无"))])])])]),t._v(" "),a("li",{staticClass:"me-list-item"},[a("a",{staticClass:"item-content"},[a("div",{staticClass:"item-inner"},[a("div",{staticClass:"item-title"},[a("div",{staticClass:"item-header"},[t._v("疫苗状况")])]),t._v(" "),a("div",{staticClass:"item-text"},[t._v(t._s(t.vaccineStatus||"暂无"))])])])]),t._v(" "),a("li",{staticClass:"me-list-item"},[a("a",{staticClass:"item-content"},[a("div",{staticClass:"item-inner"},[a("div",{staticClass:"item-title"},[a("div",{staticClass:"item-header"},[t._v("宠物类型")])]),t._v(" "),a("div",{staticClass:"item-text"},[t._v(t._s(t.petInfo.petType||"暂无"))])])])]),t._v(" "),a("li",{staticClass:"me-list-item"},[a("a",{staticClass:"item-content"},[a("div",{staticClass:"item-inner"},[a("div",{staticClass:"item-title"},[a("div",{staticClass:"item-header"},[t._v("品种")])]),t._v(" "),a("div",{staticClass:"item-text"},[t._v(t._s(t.petInfo.type||"暂无"))])])])])]):a("f7-block",{attrs:{inset:""}},[t._v("暂无宠物信息")])],1)},[],!1,null,"28c16323",null).exports),ca=[{path:"/",component:ve,keepAlive:!0},{path:"/topic/:topicId/",async:(Yt=l()(o.a.mark(function t(e,a,r){var n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=routeTo.params.topicId,r({component:be},{props:{topicId:n}});case 2:case"end":return t.stop()}},t)})),function(){return Yt.apply(this,arguments)})},{path:"/tweet/:tweetId",async:function(t,e,a){var r=t.params.tweetId;a({component:ke},{props:{tweetId:r}})}},{path:"/activities/",component:Ie,keepAlive:!0},{path:"/activities/add",component:je},{path:"/activities/detail/:activityId",async:function(t,e,a){var r=t.params.activityId;a({component:ea},{props:{activityId:r}})}},{path:"/pet/add",component:$e},{path:"/pet/detail/:petId",async:function(t,e,a){var r=t.params.petId;a({component:oa},{props:{petId:r}})}},{path:"/person",component:De,keepAlive:!0},{path:"/person/detail",component:sa},{path:"/person/pets",component:He},{path:"/person/activities",component:We},{path:"/person/tweets",component:Ze},{path:"/market",component:qe,keepAlive:!0},{path:"/market/add",component:Je},{path:"/market/detail/:marketId",async:function(t,e,a){var r=t.params.marketId;a({component:ra},{props:{marketId:r}})}},{path:"/user/login",component:Fe},{path:"/user/signup",component:Le},{path:"(.*)",component:d}],la={props:{enableTools:{type:Boolean,default:!1},editorText:{type:String,default:""},placeholder:{type:String,default:""},imagePreviewUrl:{type:String,default:""}},methods:{editorTextChange:function(t){this.$emit("text:input",t.target.value)},imgFileOnChange:function(t){var e=this,a=t.target.files[0];if(a)if(st.test(a.type)){var r=new FileReader;r.onload=function(t){e.$emit("image:input",t.target,r.result)},r.readAsDataURL(a)}else this.$f7.dialog.alert("请上传图片","格式不正确")}}},ua=(a(99),Object(f.a)(la,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"me-editor-container"},[a("textarea",{attrs:{type:"textarea",placeholder:t.placeholder},domProps:{value:t.editorText},on:{input:t.editorTextChange}}),t._v(" "),t.enableTools?a("div",{staticClass:"block me-profile-image-container"},[a("div",{staticClass:"me-profile-image-div"},[t.imagePreviewUrl?a("img",{staticClass:"me-profile-image",attrs:{src:t.imagePreviewUrl}}):a("i",{staticClass:"iconfont icon-shangchuantupian me-upload-image-icon"})]),t._v(" "),t.enableTools?a("div",{staticClass:"me-profile-buttons-div"},[a("div",{staticClass:"me-profile-img-input"},[a("label",{staticClass:"me-upload-image",attrs:{for:"me-upload-image"}},[t._v("上传图片")]),t._v(" "),a("input",{staticClass:"me-input-image",attrs:{type:"file",id:"me-upload-image",name:"me-upload-image",accept:"image/*"},on:{change:t.imgFileOnChange}})])]):t._e()]):t._e()])},[],!1,null,"9ae0aeec",null).exports),pa={components:{Editor:ua},computed:p()({},Object(ae.e)({editorText:function(t){return t.popup.editorText}})),data:function(){return{imagePreviewUrl:"",file:null}},methods:p()({},Object(ae.c)(["updatePopup"]),Object(ae.d)(["updatePopup","updateEditorText"]),{closePopup:function(){this.updateEditorText({text:""}),this.file=null,this.imagePreviewUrl="",this.text="",this.updatePopup({key:"publisherOpened",value:!1})},textInputChange:function(t){this.updateEditorText({text:t})},imageUpload:function(t,e){this.imagePreviewUrl=t.result,this.file=e},toast:function(t){this.$f7.toast.create({text:t,closeTimeout:2e3,position:"center"}).open()},sendTweet:(Ht=l()(o.a.mark(function t(){var e,a=this;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==this.editorText.length||this.file){t.next=4;break}return t.abrupt("return",this.toast("发送内容不能为空"));case 4:if(200<this.editorText.length)return t.abrupt("return",this.toast("发送文字内容不能超过200字"));t.next=6;break;case 6:return this.$f7.preloader.show(),t.prev=7,t.next=10,U({text:this.editorText,picture:this.file});case 10:e=t.sent,this.$f7.preloader.hide(),0===e.iRet?(this.toast("发送成功"),setTimeout(function(){a.closePopup()},1e3)):this.toast("发送失败"),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(7),console.error(t.t0),this.$f7.preloader.hide();case 19:case"end":return t.stop()}},t,this,[[7,15]])})),function(){return Ht.apply(this,arguments)})})},fa=Object(f.a)(pa,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("f7-page",[a("f7-navbar",[a("f7-nav-left",[a("f7-link",{attrs:{"popup-close":"",text:"取消"},on:{click:t.closePopup}})],1),t._v(" "),a("f7-nav-right",[a("f7-link",{attrs:{text:"发布"},on:{click:t.sendTweet}})],1)],1),t._v(" "),a("editor",{attrs:{enableTools:!0,editorText:t.editorText,imagePreviewUrl:t.imagePreviewUrl,placeholder:"发表文字"},on:{"text:input":t.textInputChange,"image:input":t.imageUpload}})],1)},[],!1,null,null,null).exports,da={data:function(){return{text:""}},computed:p()({},Object(ae.e)({editorText:function(t){return t.popup.editorText},commentTweetId:function(t){return t.popup.commentTweetId}})),components:{Editor:ua},methods:p()({toast:function(t){this.$f7.toast.create({text:t,closeTimeout:2e3,position:"center"}).open()}},Object(ae.d)(["updatePopup","updateEditorText","updateCommentTweetId"]),{closePopup:function(){this.resetStatus()},resetStatus:function(){this.updateCommentTweetId({tweetId:-1}),this.updateEditorText({text:""})},textInputChange:function(t){this.updateEditorText({text:t})},sendComment:(Kt=l()(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0===this.editorText.length)return t.abrupt("return",this.toast("发送内容不能为空"));t.next=4;break;case 4:if(200<this.editorText.length)return t.abrupt("return",this.toast("发送内容不能超过200字"));t.next=6;break;case 6:return this.$f7.preloader.show(),t.prev=7,t.next=10,z({text:this.editorText,tweetId:this.commentTweetId});case 10:0===(e=t.sent).iRet?(this.$f7.preloader.hide(),this.toast("评论成功"),this.updatePopup({key:"commentOpened",value:!1}),this.resetStatus()):(this.toast("评论失败"),console.error(e),this.$f7.preloader.hide()),t.next=19;break;case 14:t.prev=14,t.t0=t.catch(7),this.toast("评论失败"),console.error(t.t0),this.$f7.preloader.hide();case 19:case"end":return t.stop()}},t,this,[[7,14]])})),function(){return Kt.apply(this,arguments)})})},ma=Object(f.a)(da,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("f7-page",[a("f7-navbar",{attrs:{title:""}},[a("f7-nav-left",[a("f7-link",{attrs:{"popup-close":"",text:"关闭"},on:{click:t.closePopup}})],1),t._v(" "),a("f7-nav-title",{attrs:{title:"评论"}}),t._v(" "),a("f7-nav-right",[a("f7-link",{attrs:{text:"发送"},on:{click:t.sendComment}})],1)],1),t._v(" "),a("editor",{attrs:{editorText:t.editorText,placeholder:"评论点什么..."},on:{"text:input":t.textInputChange}})],1)},[],!1,null,null,null).exports,ha={data:function(){return{f7params:{name:"CutePet",theme:"ios",routes:ca}}},computed:p()({},Object(ae.e)({commentOpened:function(t){return t.popup.commentOpened},publisherOpened:function(t){return t.popup.publisherOpened}})),components:{Comment:ma,Publisher:fa},methods:p()({},Object(ae.d)(["updatePopup"]),Object(ae.c)(["updateUserStatus"]),{closePopup:function(t){this.updatePopup({key:t,value:!1})}}),mounted:function(){var t;this.$f7ready((t=l()(o.a.mark(function t(e){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)})),function(e){return t.apply(this,arguments)}))}},va=Object(f.a)(ha,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("f7-app",{attrs:{params:t.f7params}},[a("f7-views",{staticClass:"safe-areas",attrs:{tabs:""}},[a("f7-toolbar",{attrs:{tabbar:"",labels:"",position:"bottom"}},[a("f7-link",{attrs:{"tab-link":"#me-view-home","tab-link-active":"",icon:"iconfont icon-home",text:"首页"}}),t._v(" "),a("f7-link",{attrs:{"tab-link":"#me-view-activities","icon-ios":"f7:list_fill",text:"活动"}}),t._v(" "),a("f7-link",{attrs:{"tab-link":"#me-view-market",icon:"iconfont icon-market2",text:"市场"}}),t._v(" "),a("f7-link",{attrs:{"tab-link":"#me-view-person",icon:"iconfont icon-person",text:"我的"}})],1),t._v(" "),a("f7-view",{attrs:{id:"me-view-home",stackPages:"","tab-active":"",main:"",tab:"",url:"/"}}),t._v(" "),a("f7-view",{attrs:{id:"me-view-activities",stackPages:"",tab:"",url:"/activities/"}}),t._v(" "),a("f7-view",{attrs:{id:"me-view-market",stackPages:"",tab:"",url:"/market/"}}),t._v(" "),a("f7-view",{attrs:{id:"me-view-person",stackPages:"",tab:"",url:"/person/"}})],1),t._v(" "),a("f7-popup",{attrs:{opened:t.commentOpened},on:{"popup:closed":function(){return t.closePopup("commentOpened")}}},[a("comment")],1),t._v(" "),a("f7-popup",{attrs:{opened:t.publisherOpened},on:{"popup:closed":function(){return t.closePopup("publisherOpened")}}},[a("publisher")],1)],1)},[],!1,null,null,null).exports,ga=m.a.request.promise.postJSON,ba={getUserStatus:(Qt=l()(o.a.mark(function t(e){var a,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.commit,e.state,t.prev=1,t.next=4,ga("/api/user/person/j-status");case 4:0===(r=t.sent).iRet&&a("updateUserStatus",r.data),console.log("---用户状态",r),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.error("---用户状态出错了",t.t0);case 12:case"end":return t.stop()}},t,null,[[1,9]])})),function(){return Qt.apply(this,arguments)})},wa=n.a.request.promise.postJSON,ka={appendTweets:function(t,e){var a=e.tweets;t.tweets=[].concat(_e()(t.tweets),_e()(a))},prependTweets:function(t,e){var a=e.tweets;t.tweets=[].concat(_e()(a),_e()(t.tweets))},updateTweetById:function(t,e){var a=e.liked,r=e.tweetId,n=t.tweets.find(function(t){return t.tweetId===r});!1===a?(n.liked=!0,n.likeCount=Number(n.likeCount)+1):(n.liked=!1,n.likeCount=Number(n.likeCount)-1)},resetTweets:function(t,e){var a=e.tweets;t.tweets=a},addPageNum:function(t){t.tweetPage+=1}},xa={namespaced:!0,state:{tweets:[],bannerImages:[],tweetPage:1,tweetsIsLoadAll:!1},getters:{isTweetLoadAll:function(t){return t.tweetsIsLoadAll},getTweetById:function(t){return function(e){var a=e.tweetId;return t.tweets.find(function(t){return t.tweetId===a})}}},actions:{getIndexTweets:(Xt=l()(o.a.mark(function t(e){var a,r,n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.commit,r=e.state,t.prev=1,t.next=4,wa(A,{offset:r.tweetPage});case 4:n=t.sent,console.log("获取首页tweets信息流",n),0===n.iRet?a("resetTweets",{tweets:n.data}):console.error(n),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0);case 12:case"end":return t.stop()}},t,null,[[1,9]])})),function(){return Xt.apply(this,arguments)}),loadMoreTweets:(Wt=l()(o.a.mark(function t(e){var a,r,n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.commit,r=e.state,t.prev=1,r.tweetsIsLoadAll)return t.abrupt("return");t.next=4;break;case 4:return t.next=6,wa(A,{offset:r.tweetPage+1});case 6:0===(n=t.sent).iRet?0===n.data.length?r.tweetsIsLoadAll=!0:(a("addPageNum"),a("appendTweets",{tweets:n.data})):console.error(n),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),console.log(t.t0);case 13:case"end":return t.stop()}},t,null,[[1,10]])})),function(){return Wt.apply(this,arguments)})},mutations:ka};r.a.use(ae.b);var _a=new ae.b.Store({state:{user:{isLogin:!1,userId:null,isGetInfo:!1,userInfo:null},popup:{publisherOpened:!1,commentOpened:!1,editorText:"",commentTweetId:-1}},getters:{loginStatus:function(){}},actions:ba,mutations:{updatePopup:function(t,e){var a=e.key,r=e.value;t.popup[a]=r},updateEditorText:function(t,e){var a=e.text;t.popup.editorText=a},updateUserStatus:function(t,e){var a=e.userId;a&&(t.user.isLogin=!0,t.user.userId=a,t.user.isGetInfo=!0)},updateCommentTweetId:function(t,e){var a=e.tweetId;a&&(t.popup.commentTweetId=a)}},modules:{home:xa}});n.a.use(s.a),new r.a({el:"#app",store:_a,render:function(t){return t(va)},components:{app:va}})},36:function(){},37:function(){},38:function(){},40:function(){},41:function(){},42:function(){},43:function(){},44:function(){},45:function(){},46:function(){},73:function(t,e,a){t.exports=a(100)},85:function(){},86:function(){},87:function(){},89:function(t,e,a){"use strict";var r=a(36);a.n(r).a},90:function(t,e,a){"use strict";var r=a(37);a.n(r).a},91:function(t,e,a){"use strict";var r=a(38);a.n(r).a},93:function(t,e,a){"use strict";var r=a(40);a.n(r).a},94:function(t,e,a){"use strict";var r=a(41);a.n(r).a},95:function(t,e,a){"use strict";var r=a(42);a.n(r).a},96:function(t,e,a){"use strict";var r=a(43);a.n(r).a},97:function(t,e,a){"use strict";var r=a(44);a.n(r).a},98:function(t,e,a){"use strict";var r=a(45);a.n(r).a},99:function(t,e,a){"use strict";var r=a(46);a.n(r).a}});
//# sourceMappingURL=app.js.map